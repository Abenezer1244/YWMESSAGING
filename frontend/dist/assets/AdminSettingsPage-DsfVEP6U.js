import{c as D,r as i,_ as n,j as e,I as w}from"./index-8WTdt2-J.js";import{r as O,P as q,g as X}from"./PhoneNumberPurchaseModal-PhTDtQl6.js";import{L as I,S as x,C as _,a as Y}from"./SoftLayout-DY9kVUq2.js";import{S as b}from"./SoftButton-oOYL7hco.js";import{U as B}from"./user-plus-Cq-KySr6.js";import{T}from"./trash-2-BNAVa276.js";import{C as G}from"./chevron-left-DV9ahLO1.js";import{C as W}from"./check-DB4p4uEj.js";import{P as E}from"./phone-CxgaoyRp.js";import{C as F}from"./circle-alert-X2OXCU_1.js";import{X as $}from"./index-ByFC1Ku7.js";import{m as p}from"./proxy-DTskppoq.js";import"./index-C81d1cTB.js";import"./index-Cd2TxPag.js";async function z(){return(await D.get("/admin/profile")).data}async function U(r){return(await D.put("/admin/profile",r)).data}async function V(){return(await D.get("/admin/co-admins")).data}async function H(r){return(await D.post("/admin/co-admins",r)).data}async function J(r){return(await D.delete(`/admin/co-admins/${r}`)).data}async function K(r=1,h=50){return(await D.get("/admin/activity-logs",{params:{page:r,limit:h}})).data}async function Q(r){return(await D.post("/admin/phone-numbers/link",{phoneNumber:r})).data}function Z(){const[r,h]=i.useState([]),[j,g]=i.useState(!0),[d,N]=i.useState(null),[l,m]=i.useState(!1),[c,C]=i.useState(!1),[P,k]=i.useState(null),[u,y]=i.useState({email:"",firstName:"",lastName:""});i.useEffect(()=>{t()},[]);const t=async()=>{try{g(!0);const a=await V();h(a)}catch(a){n.error(a.message||"Failed to load co-admins")}finally{g(!1)}},o=async a=>{if(confirm("Are you sure you want to remove this co-admin? They will lose access immediately."))try{N(a),await J(a),n.success("Co-admin removed successfully"),t()}catch(f){n.error(f.message||"Failed to remove co-admin")}finally{N(null)}},A=async a=>{if(a.preventDefault(),!u.email||!u.firstName||!u.lastName){n.error("Please fill in all fields");return}try{C(!0);const f=await H({email:u.email,firstName:u.firstName,lastName:u.lastName});k(f.data),y({email:"",firstName:"",lastName:""}),n.success("Co-admin invited successfully"),t()}catch(f){n.error(f.message||"Failed to invite co-admin")}finally{C(!1)}};return j?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(I,{className:"w-6 h-6 text-primary animate-spin"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Co-Admin Management"}),e.jsx(b,{variant:"primary",onClick:()=>m(!l),icon:e.jsx(B,{className:"w-4 h-4"}),children:l?"Cancel":"Invite Co-Admin"})]}),l&&e.jsxs(x,{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Invite New Co-Admin"}),e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"First Name"}),e.jsx("input",{type:"text",value:u.firstName,onChange:a=>y({...u,firstName:a.target.value}),className:"w-full px-4 py-2 border border-border/40 rounded-lg bg-card/50 text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors duration-normal backdrop-blur-sm",placeholder:"John",disabled:c})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Last Name"}),e.jsx("input",{type:"text",value:u.lastName,onChange:a=>y({...u,lastName:a.target.value}),className:"w-full px-4 py-2 border border-border/40 rounded-lg bg-card/50 text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors duration-normal backdrop-blur-sm",placeholder:"Doe",disabled:c})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Email"}),e.jsx("input",{type:"email",value:u.email,onChange:a=>y({...u,email:a.target.value}),className:"w-full px-4 py-2 border border-border/40 rounded-lg bg-card/50 text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors duration-normal backdrop-blur-sm",placeholder:"john.doe@example.com",disabled:c})]}),e.jsx(b,{type:"submit",variant:"primary",fullWidth:!0,disabled:c,children:c?"Inviting...":"Send Invite"})]})]}),P&&e.jsxs(x,{variant:"gradient",className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Co-Admin Invited Successfully!"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Share the following credentials with ",e.jsx("strong",{children:P.admin.email}),":"]}),e.jsxs(x,{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-foreground mb-2",children:[e.jsx("strong",{children:"Email:"})," ",P.admin.email]}),e.jsxs("p",{className:"text-sm text-foreground mb-2",children:[e.jsx("strong",{children:"Temporary Password:"}),e.jsx("code",{className:"ml-2 bg-muted/50 px-2 py-1 rounded font-mono text-primary",children:P.tempPassword}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(P.tempPassword),n.success("Password copied to clipboard")},className:"ml-2 text-primary hover:text-primary/80 text-sm font-medium",children:"Copy"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"They can log in with this temporary password and change it after first login."}),e.jsx(b,{variant:"primary",onClick:()=>k(null),children:"Done"})]}),r.length===0?e.jsxs(x,{className:"text-center py-12 mb-6",children:[e.jsx("p",{className:"text-muted-foreground",children:"No co-admins yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:'Click "Invite Co-Admin" to add your first co-admin'})]}):e.jsx(x,{className:"mb-6 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"border-b border-border/40",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Added"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-border/40",children:r.map(a=>e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-foreground",children:[a.firstName," ",a.lastName]}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:a.email}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:new Date(a.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:a.lastLoginAt?new Date(a.lastLoginAt).toLocaleDateString():"Never"}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsxs("button",{onClick:()=>o(a.id),disabled:d===a.id,className:"inline-flex items-center gap-1 text-danger hover:text-danger/80 disabled:opacity-50 font-medium",children:[e.jsx(T,{className:"w-4 h-4"}),d===a.id?"Removing...":"Remove"]})})]},a.id))})]})})}),e.jsx(x,{variant:"gradient",children:e.jsxs("p",{className:"text-sm text-foreground",children:["â„¹ï¸ ",e.jsx("strong",{children:"Tip:"})," Co-admins can manage branches, groups, members, and messages. They cannot manage billing or other co-admins."]})})]})}function ee(){const[r,h]=i.useState(null),[j,g]=i.useState(!0),[d,N]=i.useState(1);i.useEffect(()=>{l()},[d]);const l=async()=>{try{g(!0);const m=await K(d,50);h(m)}catch(m){n.error(m.message||"Failed to load activity logs")}finally{g(!1)}};return j?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(I,{className:"w-6 h-6 text-primary animate-spin"})}):!r||r.logs.length===0?e.jsx(x,{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No activity logs yet"})}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-foreground mb-6",children:"Activity Logs"}),e.jsx(x,{className:"mb-6 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"border-b border-border/40",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Admin"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Timestamp"})]})}),e.jsx("tbody",{className:"divide-y divide-border/40",children:r.logs.map(m=>e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-foreground",children:m.action}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:m.details}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:m.adminEmail}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:new Date(m.timestamp).toLocaleString()})]},m.id))})]})})}),r.pagination.pages>1&&e.jsx(x,{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(d-1)*r.pagination.limit+1," to"," ",Math.min(d*r.pagination.limit,r.pagination.total)," of"," ",r.pagination.total," logs"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:"secondary",size:"sm",onClick:()=>N(Math.max(1,d-1)),disabled:d===1,icon:e.jsx(G,{className:"w-4 h-4"}),children:"Previous"}),e.jsxs("div",{className:"px-4 py-2 text-sm text-muted-foreground font-medium",children:["Page ",d," of ",r.pagination.pages]}),e.jsx(b,{variant:"secondary",size:"sm",onClick:()=>N(Math.min(r.pagination.pages,d+1)),disabled:d===r.pagination.pages,icon:e.jsx(_,{className:"w-4 h-4"}),children:"Next"})]})]})}),e.jsx(x,{variant:"gradient",children:e.jsxs("p",{className:"text-sm text-foreground",children:["â„¹ï¸ ",e.jsx("strong",{children:"Activity logs:"})," All user actions are logged for security and compliance purposes. Logs are retained for 90 days."]})})]})}function te({currentPhoneNumber:r,onSuccess:h}){const[j,g]=i.useState(r||""),[d,N]=i.useState(!1),[l,m]=i.useState(!r),[c,C]=i.useState(r),[P,k]=i.useState(null),[u,y]=i.useState(!1),[t,o]=i.useState(""),[A,a]=i.useState(!1),[f,s]=i.useState(!1),L=async v=>{if(v.preventDefault(),!j.trim()){n.error("Please enter a phone number");return}try{N(!0);const S=await Q(j);S.success&&(C(S.data.phoneNumber),k(S.data.webhookId?"auto":"manual"),m(!1),g(""),n.success(S.data.message),h?.(S.data.phoneNumber,S.data.webhookId))}catch(S){const M=S.message;n.error(M||"Failed to link phone number"),k(null)}finally{N(!1)}},R=async()=>{if(!A){n.error("Please confirm you understand the consequences");return}if(t!==c){n.error(`Please type the phone number exactly: ${c}`);return}try{s(!0),(await O({confirm:!0,confirmPhone:t})).success&&(C(null),y(!1),o(""),a(!1),n.success("Phone number deleted (30-day recovery window)"),h?.(null,null))}catch(v){const S=v.response?.data?.message||v.message||"Failed to delete phone number";n.error(S)}finally{s(!1)}};return e.jsxs("div",{className:"space-y-4",children:[c&&!l&&e.jsx("div",{className:"p-4 bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(W,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Phone Number Linked"}),e.jsx("p",{className:"text-lg font-bold text-green-500 mt-1",children:c}),P==="auto"&&e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"âœ… Webhook auto-created successfully"}),P==="manual"&&e.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"âš ï¸ Please configure webhook manually in Telnyx dashboard"})]})]}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsx(b,{variant:"secondary",size:"sm",onClick:()=>m(!0),children:"Change"}),e.jsx(b,{variant:"danger",size:"sm",onClick:()=>y(!0),children:e.jsx(T,{className:"w-4 h-4"})})]})]})}),l&&e.jsxs("form",{onSubmit:L,className:"space-y-4 p-4 bg-muted/50 rounded-lg border border-border/40",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Telnyx Phone Number"}),e.jsx(w,{type:"tel",placeholder:"+1 (555) 123-4567",value:j,onChange:v=>g(v.target.value),disabled:d,autoFocus:!0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter the phone number you purchased from Telnyx (in any format)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:"primary",type:"submit",disabled:d||!j.trim(),className:"flex-1",children:d?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 animate-spin mr-2 inline"}),"Linking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-4 h-4 mr-2 inline"}),"Link Phone Number"]})}),c&&e.jsx(b,{variant:"secondary",type:"button",onClick:()=>{m(!1),g("")},disabled:d,children:"Cancel"})]}),e.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg flex gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-blue-600",children:"When you link a phone number, we'll automatically create a webhook in your Telnyx account. Members can then start texting this number to send messages and media!"})]})]}),!l&&c&&e.jsx("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-lg",children:e.jsxs("p",{className:"text-xs text-primary/80",children:[e.jsx("strong",{children:"What happens next?"})," Your congregation can now text ",e.jsx("strong",{children:c})," to start conversations with you. Messages and media will appear in your Conversations dashboard!"]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background rounded-lg border border-border max-w-md w-full p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Delete Phone Number"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This action has a 30-day recovery window"})]}),e.jsx("button",{onClick:()=>{y(!1),o(""),a(!1)},className:"text-muted-foreground hover:text-foreground",children:e.jsx($,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex gap-2",children:[e.jsx(F,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-red-600",children:[e.jsx("p",{className:"font-semibold mb-1",children:"âš ï¸ Important"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"All SMS conversations on this number will end"}),e.jsx("li",{children:"This number will be released from Telnyx"}),e.jsx("li",{children:"You have 30 days to contact support for recovery"}),e.jsx("li",{children:"After 30 days, this cannot be undone"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Type the phone number to confirm:"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:c}),e.jsx(w,{type:"text",placeholder:c||"Phone number",value:t,onChange:v=>o(v.target.value),disabled:f,className:"font-mono"})]}),e.jsxs("label",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",checked:A,onChange:v=>a(v.target.checked),disabled:f,className:"mt-1 rounded"}),e.jsx("span",{className:"text-sm text-foreground",children:"I understand this cannot be undone and I want to delete this phone number"})]}),e.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-600",children:[e.jsx("strong",{children:"ðŸ“ž Need to recover?"})," Contact support within 30 days to restore this number."]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(b,{variant:"primary",className:"flex-1",disabled:f||!A||t!==c,onClick:R,children:f?e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 animate-spin mr-2 inline"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 mr-2 inline"}),"Delete Number"]})}),e.jsx(b,{variant:"secondary",className:"flex-1",disabled:f,onClick:()=>{y(!1),o(""),a(!1)},children:"Cancel"})]})]})})]})}const se=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r);function be(){const[r,h]=i.useState("profile"),[j,g]=i.useState(!1),[d,N]=i.useState(!1),[l,m]=i.useState(null),[c,C]=i.useState(null),[P,k]=i.useState(!1),[u,y]=i.useState(!1),[t,o]=i.useState({name:"",email:"",wantsPremiumDelivery:!1,ein:"",brandPhoneNumber:"",streetAddress:"",city:"",state:"",postalCode:"",website:"",entityType:"NON_PROFIT",vertical:"NGO"}),A=async()=>{try{g(!0);const s=await z();m(s),o({name:s.name||"",email:s.email||"",wantsPremiumDelivery:s.wantsPremiumDelivery??!1,ein:s.ein||"",brandPhoneNumber:s.brandPhoneNumber||"",streetAddress:s.streetAddress||"",city:s.city||"",state:s.state||"",postalCode:s.postalCode||"",website:s.website||"",entityType:s.entityType||"NON_PROFIT",vertical:s.vertical||"NGO"})}catch{n.error("Failed to load profile. Please refresh the page.")}finally{g(!1)}},a=async()=>{try{y(!0);const s=await X();C(s.telnyxPhoneNumber)}catch{C(null)}finally{y(!1)}};i.useEffect(()=>{A(),a()},[]);const f=async s=>{if(s.preventDefault(),!t.name.trim()){n.error("Church name is required");return}if(!t.email.trim()){n.error("Email address is required");return}if(!se(t.email.trim())){n.error("Please enter a valid email address");return}if(t.wantsPremiumDelivery){if(!t.ein.trim()){n.error("EIN (Employer Identification Number) is required for premium 10DLC");return}if(!/^\d+$/.test(t.ein.trim())){n.error("EIN must contain only digits");return}if(!t.brandPhoneNumber.trim()){n.error("Brand contact phone number is required for premium 10DLC");return}if(!/^\+1\d{10}$/.test(t.brandPhoneNumber.trim())){n.error("Phone must be in format: +1XXXXXXXXXX");return}if(!t.streetAddress.trim()){n.error("Street address is required for premium 10DLC");return}if(!t.city.trim()){n.error("City is required for premium 10DLC");return}if(!t.state.trim()||t.state.length!==2){n.error("State must be 2-letter code (e.g., CA, NY)");return}if(!t.postalCode.trim()){n.error("Postal code is required for premium 10DLC");return}if(!/^\d{5}(-\d{4})?$/.test(t.postalCode.trim())){n.error("Postal code must be 5 digits or 5+4 format");return}}try{N(!0),await U({name:t.name.trim(),email:t.email.trim(),wantsPremiumDelivery:t.wantsPremiumDelivery,ein:t.ein.trim()||void 0,brandPhoneNumber:t.brandPhoneNumber.trim()||void 0,streetAddress:t.streetAddress.trim()||void 0,city:t.city.trim()||void 0,state:t.state.trim().toUpperCase()||void 0,postalCode:t.postalCode.trim()||void 0,website:t.website.trim()||void 0,entityType:t.entityType,vertical:t.vertical}),n.success("Profile updated successfully"),A()}catch{n.error("Failed to update profile. Please try again.")}finally{N(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(Y,{children:e.jsxs("div",{className:"px-4 md:px-8 py-8 w-full",children:[e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Settings"})}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your church account and permissions"})]}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-8",children:e.jsxs(x,{children:[e.jsx("div",{className:"border-b border-border/40",children:e.jsx("div",{className:"flex flex-wrap",children:["profile","coadmins","numbers","logs"].map((s,L)=>e.jsxs(p.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:L*.05},onClick:()=>h(s),className:`flex-1 min-w-[120px] px-4 py-4 text-center font-medium border-b-2 transition ${r===s?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[s==="profile"&&"Church Profile",s==="coadmins"&&"Co-Admins",s==="numbers"&&"Phone Numbers",s==="logs"&&"Activity Logs"]},s))})}),e.jsxs("div",{className:"p-8",children:[r==="profile"&&e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Church Profile"}),j?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(p.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0},children:e.jsx(I,{className:"w-8 h-8 text-primary"})})}):e.jsxs("form",{onSubmit:f,className:"max-w-2xl",children:[e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:e.jsx(w,{label:"Church Name",type:"text",value:t.name,onChange:s=>o({...t,name:s.target.value}),placeholder:"Your church name"})}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-6",children:e.jsx(w,{label:"Email Address",type:"email",value:t.email,onChange:s=>o({...t,email:s.target.value}),placeholder:"contact@church.com"})}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.18},className:"mb-8",children:e.jsxs(x,{variant:"gradient",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"SMS Delivery Tier"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Choose your SMS delivery performance level. You can upgrade anytime."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-4 p-4 rounded-lg border border-border hover:border-primary cursor-pointer transition",style:{backgroundColor:t.wantsPremiumDelivery?"":"rgba(59, 130, 246, 0.05)"},children:[e.jsx("input",{type:"radio",name:"deliveryTier",checked:!t.wantsPremiumDelivery,onChange:()=>o({...t,wantsPremiumDelivery:!1}),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-foreground flex items-center gap-2",children:["ðŸ“Š Standard Delivery",e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Recommended"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"65% delivery rate â€¢ Instant activation â€¢ No EIN required"})]})]}),e.jsxs("label",{className:"flex items-start gap-4 p-4 rounded-lg border border-border hover:border-primary cursor-pointer transition",style:{backgroundColor:t.wantsPremiumDelivery?"rgba(34, 197, 94, 0.05)":""},children:[e.jsx("input",{type:"radio",name:"deliveryTier",checked:t.wantsPremiumDelivery,onChange:()=>o({...t,wantsPremiumDelivery:!0}),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-foreground flex items-center gap-2",children:["ðŸš€ Premium 10DLC",e.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:"Best Performance"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"99% delivery rate â€¢ 1-2 day approval â€¢ Requires EIN & business info"})]})]})]}),l?.dlcStatus&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-border",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Current Status:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm font-medium text-foreground",children:[l.dlcStatus==="shared_brand"&&"ðŸ“Š Standard Delivery (65%)",l.dlcStatus==="pending"&&"â³ Awaiting Approval (99%)",l.dlcStatus==="approved"&&"âœ… Premium Active (99%)",l.dlcStatus==="rejected"&&"âŒ Failed - Contact support",!["shared_brand","pending","approved","rejected"].includes(l.dlcStatus)&&l.dlcStatus]}),l.deliveryRate&&e.jsxs("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:[(l.deliveryRate*100).toFixed(0),"% delivery"]})]})]})]})}),t.wantsPremiumDelivery&&e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:e.jsxs(x,{variant:"gradient",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"10DLC Brand Information"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Required for SMS messaging approval. Fill in your church's legal information."}),e.jsx("div",{className:"mb-6",children:e.jsx(w,{label:"EIN (Employer Identification Number)",type:"text",value:t.ein,onChange:s=>o({...t,ein:s.target.value}),placeholder:"123456789",required:!0})}),e.jsx("div",{className:"mb-6",children:e.jsx(w,{label:"Brand Contact Phone",type:"tel",value:t.brandPhoneNumber,onChange:s=>o({...t,brandPhoneNumber:s.target.value}),placeholder:"+12025551234",required:!0})}),e.jsx("div",{className:"mb-6",children:e.jsx(w,{label:"Street Address",type:"text",value:t.streetAddress,onChange:s=>o({...t,streetAddress:s.target.value}),placeholder:"123 Main Street",required:!0})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsx(w,{label:"City",type:"text",value:t.city,onChange:s=>o({...t,city:s.target.value}),placeholder:"New York",required:!0}),e.jsx(w,{label:"State (2-letter)",type:"text",value:t.state,onChange:s=>o({...t,state:s.target.value.toUpperCase().slice(0,2)}),placeholder:"NY",maxLength:2,required:!0})]}),e.jsx("div",{className:"mb-6",children:e.jsx(w,{label:"Postal Code",type:"text",value:t.postalCode,onChange:s=>o({...t,postalCode:s.target.value}),placeholder:"10001",required:!0})}),e.jsx("div",{className:"mb-6",children:e.jsx(w,{label:"Church Website (Optional)",type:"url",value:t.website,onChange:s=>o({...t,website:s.target.value}),placeholder:"https://yourchurch.com"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Entity Type"}),e.jsxs("select",{value:t.entityType,onChange:s=>o({...t,entityType:s.target.value}),className:"w-full px-3 py-2 bg-muted border border-border rounded-md text-foreground",children:[e.jsx("option",{value:"NON_PROFIT",children:"Non-Profit (Recommended for churches)"}),e.jsx("option",{value:"PRIVATE_CORPORATION",children:"Private Corporation"}),e.jsx("option",{value:"PUBLIC_CORPORATION",children:"Public Corporation"}),e.jsx("option",{value:"GOVERNMENT_ENTITY",children:"Government Entity"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Industry Vertical"}),e.jsxs("select",{value:t.vertical,onChange:s=>o({...t,vertical:s.target.value}),className:"w-full px-3 py-2 bg-muted border border-border rounded-md text-foreground",children:[e.jsx("option",{value:"NGO",children:"Non-Governmental Organization (NGO) - For churches"}),e.jsx("option",{value:"EDUCATION",children:"Education"}),e.jsx("option",{value:"HEALTHCARE",children:"Healthcare"}),e.jsx("option",{value:"FINANCE",children:"Finance"})]})]})]})]})}),l&&e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:e.jsxs(x,{variant:"gradient",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Account Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",e.jsx("span",{className:"font-medium text-foreground",children:l.subscriptionStatus})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Created:"})," ",e.jsx("span",{className:"font-medium text-foreground",children:new Date(l.createdAt).toLocaleDateString()})]})]})]})}),e.jsx(b,{type:"submit",variant:"primary",disabled:d,children:d?"Saving...":"Save Changes"})]})]}),r==="coadmins"&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx(Z,{})}),r==="numbers"&&e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Phone Numbers"}),u?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(p.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0},children:e.jsx(I,{className:"w-8 h-8 text-primary"})})}):e.jsxs("div",{className:"max-w-2xl space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx(te,{currentPhoneNumber:c,onSuccess:(s,L)=>{C(s),a(),s?n.success("Phone number linked successfully!"):n.success("Phone number deleted (30-day recovery window)")}})}),e.jsxs(x,{variant:"gradient",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(E,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"font-semibold text-foreground",children:"Current Phone Number"})]}),c?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:c}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your active Telnyx phone number for receiving SMS messages and conversations."})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-muted-foreground",children:"No phone number linked yet. Link a number you've purchased from Telnyx above or buy one to start."}),e.jsx(b,{variant:"primary",onClick:()=>k(!0),children:"Buy Phone Number"})]})]}),e.jsxs(x,{variant:"default",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"About Phone Numbers"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsx("span",{children:"Each church gets one dedicated phone number for receiving member conversations"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsx("span",{children:"Members text your number to start conversations with your church"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsx("span",{children:"When you link a number, we automatically create a webhook for receiving messages"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsx("span",{children:"Numbers are powered by Telnyx for reliable SMS/MMS delivery"})]})]})]})]})]}),r==="logs"&&e.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx(ee,{})})]})]})})]})}),e.jsx(q,{isOpen:P,onClose:()=>k(!1),onPurchaseComplete:s=>{C(s),k(!1),n.success("Phone number purchased successfully!")}})]})}export{be as AdminSettingsPage,be as default};
//# sourceMappingURL=AdminSettingsPage-DsfVEP6U.js.map
