import{d as g,r as x,j as e,u as b,a as y,B as m,C as o}from"./index-D-3FiYPt.js";import{g as p}from"./billing-BiyZT4U3.js";function j(){const{branches:s,currentBranchId:n,allBranchesMode:r,setCurrentBranch:c,setAllBranchesMode:i}=g(),[d,l]=x.useState(!1),t=s.find(a=>a.id===n);return s.length===0?null:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>l(!d),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition",children:[e.jsx("span",{className:"text-sm font-medium",children:r?"All Branches":t?.name||"Select Branch"}),e.jsx("svg",{className:`w-4 h-4 transition-transform ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]}),d&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white border border-gray-300 rounded-lg shadow-lg z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsx("button",{onClick:()=>{i(!0),l(!1)},className:`w-full text-left px-4 py-2 rounded-lg transition ${r?"bg-blue-50 text-blue-600 font-medium":"hover:bg-gray-50"}`,children:"📊 All Branches"}),e.jsx("div",{className:"border-t my-2"}),s.map(a=>e.jsx("button",{onClick:()=>{c(a.id),l(!1)},className:`w-full text-left px-4 py-2 rounded-lg transition ${n===a.id&&!r?"bg-blue-50 text-blue-600 font-medium":"hover:bg-gray-50"}`,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:a.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[a.groupCount," group",a.groupCount!==1?"s":""," • ",a.memberCount," member",a.memberCount!==1?"s":""]})]})},a.id))]})})]})}function f(){const[s,n]=x.useState(null),[r,c]=x.useState(!0);if(x.useEffect(()=>{(async()=>{try{c(!0);const h=await p();n(h)}catch(h){console.error("Failed to load trial status:",h)}finally{c(!1)}})()},[]),r||!s||!s.onTrial)return null;const i=s.daysRemaining,d=i<=3,l=i<=0;let t="bg-green-50 border-green-200",a="text-green-800",u="✓";return l?(t="bg-red-50 border-red-200",a="text-red-800",u="⚠"):d&&(t="bg-yellow-50 border-yellow-200",a="text-yellow-800",u="!"),e.jsx("div",{className:`${t} border rounded-lg p-4 mb-6`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:`text-lg font-bold ${a}`,children:u}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold ${a}`,children:l?"Trial Expired":"Free Trial Active"}),e.jsx("p",{className:`text-sm ${a} mt-1`,children:l?"Your trial has expired. Please subscribe to continue using the platform.":i===1?"Your trial expires tomorrow. Subscribe now to keep your account active.":`${i} days remaining in your trial`}),!l&&e.jsx("button",{onClick:()=>window.location.href="/subscribe",className:"mt-2 text-sm font-semibold hover:underline",children:"View Plans →"})]})]})})}function w(){const s=b(),{user:n,church:r,logout:c}=y(),{currentBranchId:i}=g(),d=()=>{c(),s("/login")};r&&Math.ceil((new Date(r.trialEndsAt).getTime()-new Date().getTime())/(1e3*60*60*24));const l=[{label:"📍 Branches",action:()=>s("/branches"),always:!0},{label:"👥 Groups",action:()=>s(`/branches/${i}/groups`),conditional:!0},{label:"👤 Members",action:()=>s("/members?groupId="),conditional:!0},{label:"📨 Send Message",action:()=>s("/send-message"),conditional:!0},{label:"📜 History",action:()=>s("/message-history"),conditional:!0},{label:"📋 Templates",action:()=>s("/templates"),conditional:!0},{label:"🔄 Recurring",action:()=>s("/recurring-messages"),conditional:!0},{label:"📊 Analytics",action:()=>s("/analytics"),conditional:!0},{label:"💳 Billing",action:()=>s("/billing"),always:!0},{label:"⚙️ Settings",action:()=>s("/admin/settings"),always:!0}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 dark:from-secondary-900 to-secondary-100 dark:to-secondary-950 transition-colors duration-normal",children:[e.jsx("header",{className:"bg-white dark:bg-secondary-800 shadow-md border-b border-secondary-200 dark:border-secondary-700 transition-colors duration-normal",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-600 dark:from-primary-500 to-primary-700 dark:to-primary-600 rounded-lg flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"YW"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-secondary-900 dark:text-secondary-50",children:"Dashboard"}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:r?.name})]})]}),e.jsx(m,{variant:"danger",size:"md",onClick:d,children:"Logout"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[l.map(t=>t.always||t.conditional&&i?e.jsx("button",{onClick:t.action,className:"px-4 py-2 text-secondary-700 dark:text-secondary-300 font-medium hover:bg-primary-100 dark:hover:bg-primary-900 rounded-lg transition-colors duration-normal border border-secondary-200 dark:border-secondary-700 hover:border-primary-300 dark:hover:border-primary-600",children:t.label},t.label):null),e.jsx(j,{})]})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(f,{}),e.jsxs("div",{className:"mb-8 animate-fadeIn",children:[e.jsxs("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-secondary-50 mb-6",children:["Welcome back, ",n?.firstName,"! 👋"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(o,{variant:"default",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"👤"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-secondary-50 mb-3",children:"Your Account"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:e.jsxs("span",{className:"font-medium text-secondary-900 dark:text-secondary-50",children:[n?.firstName," ",n?.lastName]})}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:n?.email})}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:e.jsx("span",{className:"inline-block px-2 py-1 bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 rounded text-xs font-semibold",children:n?.role})})]})]})]})}),e.jsx(o,{variant:"default",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-info-100 dark:bg-info-900 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"⛪"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-secondary-50 mb-3",children:"Church Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:e.jsx("span",{className:"font-medium text-secondary-900 dark:text-secondary-50",children:r?.name})}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:e.jsx("span",{className:"text-secondary-500 dark:text-secondary-400",children:r?.email})}),e.jsxs("p",{className:"text-secondary-600 dark:text-secondary-400",children:["Trial ends ",e.jsx("span",{className:"font-semibold text-secondary-900 dark:text-secondary-50",children:new Date(r?.trialEndsAt||"").toLocaleDateString()})]})]})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(o,{variant:"default",className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:"📍"})}),e.jsx("div",{className:"text-4xl font-bold text-primary-600 dark:text-primary-400 mb-2",children:"0"}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 font-medium",children:"Active Branches"}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>s("/branches"),className:"mt-4",fullWidth:!0,children:"View Branches"})]}),e.jsxs(o,{variant:"default",className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-success-100 dark:bg-success-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:"👥"})}),e.jsx("div",{className:"text-4xl font-bold text-success-600 dark:text-success-400 mb-2",children:"0"}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 font-medium",children:"Total Members"}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>s("/members?groupId="),className:"mt-4",fullWidth:!0,children:"Manage Members"})]}),e.jsxs(o,{variant:"default",className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-info-100 dark:bg-info-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:"📨"})}),e.jsx("div",{className:"text-4xl font-bold text-info-600 dark:text-info-400 mb-2",children:"0"}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 font-medium",children:"Messages Sent"}),e.jsx(m,{variant:"ghost",size:"sm",onClick:()=>s("/send-message"),className:"mt-4",fullWidth:!0,children:"Send Message"})]})]}),e.jsxs(o,{variant:"highlight",children:[e.jsx("h3",{className:"text-xl font-bold text-secondary-900 dark:text-secondary-50 mb-4",children:"✨ Key Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:"📍",title:"Multi-Branch",desc:"Manage multiple church locations"},{icon:"👥",title:"Groups & Members",desc:"Organize and segment your congregation"},{icon:"📨",title:"SMS Messaging",desc:"Send direct messages to members"},{icon:"📋",title:"Templates",desc:"Reuse pre-built message templates"},{icon:"🔄",title:"Recurring Messages",desc:"Automate regular communications"},{icon:"📊",title:"Analytics",desc:"Track engagement and delivery rates"}].map((t,a)=>e.jsxs("div",{className:"p-4 bg-secondary-50 dark:bg-secondary-700 rounded-lg",children:[e.jsx("div",{className:"text-3xl mb-2",children:t.icon}),e.jsx("h4",{className:"font-semibold text-secondary-900 dark:text-secondary-50",children:t.title}),e.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:t.desc})]},a))})]})]})]})}export{w as DashboardPage,w as default};
//# sourceMappingURL=DashboardPage-6EYT0n2S.js.map
