import{c as A,r as a,_ as n,j as e,I}from"./index-DIob0B3d.js";import{r as W,P as z,g as Y}from"./PhoneNumberPurchaseModal-iBfkVlNv.js";import{L,S as x,C as $,a as q}from"./SoftLayout-B8zUPNDL.js";import{S as f}from"./SoftButton-CqK5YH59.js";import{U as B}from"./user-plus-BXLFxOuq.js";import{T as F}from"./trash-2-DPbRaLo7.js";import{C as U}from"./chevron-left-ZwIBj6zF.js";import{C as _}from"./check-CjnNvGX-.js";import{P as M}from"./phone-CjvTSaqZ.js";import{C as T}from"./circle-alert-BjtRstpI.js";import{X as J}from"./index-B_hioSfX.js";import{m as b}from"./proxy-CfsthMKV.js";import"./index-B640qwOs.js";import"./index-6k7Ch46b.js";async function O(){return(await A.get("/admin/profile")).data}async function V(s){return(await A.put("/admin/profile",s)).data}async function X(){return(await A.get("/admin/co-admins")).data}async function G(s){return(await A.post("/admin/co-admins",s)).data}async function H(s){return(await A.delete(`/admin/co-admins/${s}`)).data}async function K(s=1,m=50){return(await A.get("/admin/activity-logs",{params:{page:s,limit:m}})).data}async function Q(s){return(await A.post("/admin/phone-numbers/link",{phoneNumber:s})).data}function Z(){const[s,m]=a.useState([]),[y,p]=a.useState(!0),[i,j]=a.useState(null),[u,d]=a.useState(!1),[o,v]=a.useState(!1),[w,P]=a.useState(null),[c,g]=a.useState({email:"",firstName:"",lastName:""});a.useEffect(()=>{l()},[]);const l=async()=>{try{p(!0);const t=await X();m(t)}catch(t){n.error(t.message||"Failed to load co-admins")}finally{p(!1)}},C=async t=>{if(confirm("Are you sure you want to remove this co-admin? They will lose access immediately."))try{j(t),await H(t),n.success("Co-admin removed successfully"),l()}catch(h){n.error(h.message||"Failed to remove co-admin")}finally{j(null)}},k=async t=>{if(t.preventDefault(),!c.email||!c.firstName||!c.lastName){n.error("Please fill in all fields");return}try{v(!0);const h=await G({email:c.email,firstName:c.firstName,lastName:c.lastName});P(h.data),g({email:"",firstName:"",lastName:""}),n.success("Co-admin invited successfully"),l()}catch(h){n.error(h.message||"Failed to invite co-admin")}finally{v(!1)}};return y?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(L,{className:"w-6 h-6 text-primary animate-spin"})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Co-Admin Management"}),e.jsx(f,{variant:"primary",onClick:()=>d(!u),icon:e.jsx(B,{className:"w-4 h-4"}),children:u?"Cancel":"Invite Co-Admin"})]}),u&&e.jsxs(x,{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Invite New Co-Admin"}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"First Name"}),e.jsx("input",{type:"text",value:c.firstName,onChange:t=>g({...c,firstName:t.target.value}),className:"w-full px-4 py-2 border border-border/40 rounded-lg bg-card/50 text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors duration-normal backdrop-blur-sm",placeholder:"John",disabled:o})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Last Name"}),e.jsx("input",{type:"text",value:c.lastName,onChange:t=>g({...c,lastName:t.target.value}),className:"w-full px-4 py-2 border border-border/40 rounded-lg bg-card/50 text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors duration-normal backdrop-blur-sm",placeholder:"Doe",disabled:o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Email"}),e.jsx("input",{type:"email",value:c.email,onChange:t=>g({...c,email:t.target.value}),className:"w-full px-4 py-2 border border-border/40 rounded-lg bg-card/50 text-foreground focus:outline-none focus:ring-2 focus:ring-primary transition-colors duration-normal backdrop-blur-sm",placeholder:"john.doe@example.com",disabled:o})]}),e.jsx(f,{type:"submit",variant:"primary",fullWidth:!0,disabled:o,children:o?"Inviting...":"Send Invite"})]})]}),w&&e.jsxs(x,{variant:"gradient",className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Co-Admin Invited Successfully!"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Share the following credentials with ",e.jsx("strong",{children:w.admin.email}),":"]}),e.jsxs(x,{className:"mb-4",children:[e.jsxs("p",{className:"text-sm text-foreground mb-2",children:[e.jsx("strong",{children:"Email:"})," ",w.admin.email]}),e.jsxs("p",{className:"text-sm text-foreground mb-2",children:[e.jsx("strong",{children:"Temporary Password:"}),e.jsx("code",{className:"ml-2 bg-muted/50 px-2 py-1 rounded font-mono text-primary",children:w.tempPassword}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(w.tempPassword),n.success("Password copied to clipboard")},className:"ml-2 text-primary hover:text-primary/80 text-sm font-medium",children:"Copy"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"They can log in with this temporary password and change it after first login."}),e.jsx(f,{variant:"primary",onClick:()=>P(null),children:"Done"})]}),s.length===0?e.jsxs(x,{className:"text-center py-12 mb-6",children:[e.jsx("p",{className:"text-muted-foreground",children:"No co-admins yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:'Click "Invite Co-Admin" to add your first co-admin'})]}):e.jsx(x,{className:"mb-6 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"border-b border-border/40",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Added"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-border/40",children:s.map(t=>e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[e.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-foreground",children:[t.firstName," ",t.lastName]}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:t.email}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:new Date(t.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:t.lastLoginAt?new Date(t.lastLoginAt).toLocaleDateString():"Never"}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsxs("button",{onClick:()=>C(t.id),disabled:i===t.id,className:"inline-flex items-center gap-1 text-danger hover:text-danger/80 disabled:opacity-50 font-medium",children:[e.jsx(F,{className:"w-4 h-4"}),i===t.id?"Removing...":"Remove"]})})]},t.id))})]})})}),e.jsx(x,{variant:"gradient",children:e.jsxs("p",{className:"text-sm text-foreground",children:["â„¹ï¸ ",e.jsx("strong",{children:"Tip:"})," Co-admins can manage branches, groups, members, and messages. They cannot manage billing or other co-admins."]})})]})}function ee(){const[s,m]=a.useState(null),[y,p]=a.useState(!0),[i,j]=a.useState(1);a.useEffect(()=>{u()},[i]);const u=async()=>{try{p(!0);const d=await K(i,50);m(d)}catch(d){n.error(d.message||"Failed to load activity logs")}finally{p(!1)}};return y?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(L,{className:"w-6 h-6 text-primary animate-spin"})}):!s||s.logs.length===0?e.jsx(x,{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:"No activity logs yet"})}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-foreground mb-6",children:"Activity Logs"}),e.jsx(x,{className:"mb-6 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"border-b border-border/40",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Details"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Admin"}),e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-foreground",children:"Timestamp"})]})}),e.jsx("tbody",{className:"divide-y divide-border/40",children:s.logs.map(d=>e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 text-sm font-medium text-foreground",children:d.action}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:d.details}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:d.adminEmail}),e.jsx("td",{className:"px-6 py-4 text-sm text-muted-foreground",children:new Date(d.timestamp).toLocaleString()})]},d.id))})]})})}),s.pagination.pages>1&&e.jsx(x,{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(i-1)*s.pagination.limit+1," to"," ",Math.min(i*s.pagination.limit,s.pagination.total)," of"," ",s.pagination.total," logs"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{variant:"secondary",size:"sm",onClick:()=>j(Math.max(1,i-1)),disabled:i===1,icon:e.jsx(U,{className:"w-4 h-4"}),children:"Previous"}),e.jsxs("div",{className:"px-4 py-2 text-sm text-muted-foreground font-medium",children:["Page ",i," of ",s.pagination.pages]}),e.jsx(f,{variant:"secondary",size:"sm",onClick:()=>j(Math.min(s.pagination.pages,i+1)),disabled:i===s.pagination.pages,icon:e.jsx($,{className:"w-4 h-4"}),children:"Next"})]})]})}),e.jsx(x,{variant:"gradient",children:e.jsxs("p",{className:"text-sm text-foreground",children:["â„¹ï¸ ",e.jsx("strong",{children:"Activity logs:"})," All user actions are logged for security and compliance purposes. Logs are retained for 90 days."]})})]})}function se({currentPhoneNumber:s,onSuccess:m}){const[y,p]=a.useState(s||""),[i,j]=a.useState(!1),[u,d]=a.useState(!s),[o,v]=a.useState(s),[w,P]=a.useState(null),[c,g]=a.useState(!1),[l,C]=a.useState(""),[k,t]=a.useState(!1),[h,r]=a.useState(!1),D=async N=>{if(N.preventDefault(),!y.trim()){n.error("Please enter a phone number");return}try{j(!0);const S=await Q(y);S.success&&(v(S.data.phoneNumber),P(S.data.webhookId?"auto":"manual"),d(!1),p(""),n.success(S.data.message),m?.(S.data.phoneNumber,S.data.webhookId))}catch(S){const R=S.message;n.error(R||"Failed to link phone number"),P(null)}finally{j(!1)}},E=async()=>{if(!k){n.error("Please confirm you understand the consequences");return}if(l!==o){n.error(`Please type the phone number exactly: ${o}`);return}try{r(!0),(await W({confirm:!0,confirmPhone:l})).success&&(v(null),g(!1),C(""),t(!1),n.success("Phone number deleted (30-day recovery window)"),m?.(null,null))}catch(N){const S=N.response?.data?.message||N.message||"Failed to delete phone number";n.error(S)}finally{r(!1)}};return e.jsxs("div",{className:"space-y-4",children:[o&&!u&&e.jsx("div",{className:"p-4 bg-gradient-to-r from-green-500/10 to-emerald-500/10 border border-green-500/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(_,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Phone Number Linked"}),e.jsx("p",{className:"text-lg font-bold text-green-500 mt-1",children:o}),w==="auto"&&e.jsx("p",{className:"text-xs text-green-600 mt-2",children:"âœ… Webhook auto-created successfully"}),w==="manual"&&e.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"âš ï¸ Please configure webhook manually in Telnyx dashboard"})]})]}),e.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[e.jsx(f,{variant:"secondary",size:"sm",onClick:()=>d(!0),children:"Change"}),e.jsx(f,{variant:"danger",size:"sm",onClick:()=>g(!0),children:e.jsx(F,{className:"w-4 h-4"})})]})]})}),u&&e.jsxs("form",{onSubmit:D,className:"space-y-4 p-4 bg-muted/50 rounded-lg border border-border/40",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Telnyx Phone Number"}),e.jsx(I,{type:"tel",placeholder:"+1 (555) 123-4567",value:y,onChange:N=>p(N.target.value),disabled:i,autoFocus:!0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Enter the phone number you purchased from Telnyx (in any format)"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{variant:"primary",type:"submit",disabled:i||!y.trim(),className:"flex-1",children:i?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4 animate-spin mr-2 inline"}),"Linking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4 mr-2 inline"}),"Link Phone Number"]})}),o&&e.jsx(f,{variant:"secondary",type:"button",onClick:()=>{d(!1),p("")},disabled:i,children:"Cancel"})]}),e.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg flex gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-xs text-blue-600",children:"When you link a phone number, we'll automatically create a webhook in your Telnyx account. Members can then start texting this number to send messages and media!"})]})]}),!u&&o&&e.jsx("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-lg",children:e.jsxs("p",{className:"text-xs text-primary/80",children:[e.jsx("strong",{children:"What happens next?"})," Your congregation can now text ",e.jsx("strong",{children:o})," to start conversations with you. Messages and media will appear in your Conversations dashboard!"]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background rounded-lg border border-border max-w-md w-full p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Delete Phone Number"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"This action has a 30-day recovery window"})]}),e.jsx("button",{onClick:()=>{g(!1),C(""),t(!1)},className:"text-muted-foreground hover:text-foreground",children:e.jsx(J,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-red-600",children:[e.jsx("p",{className:"font-semibold mb-1",children:"âš ï¸ Important"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"All SMS conversations on this number will end"}),e.jsx("li",{children:"This number will be released from Telnyx"}),e.jsx("li",{children:"You have 30 days to contact support for recovery"}),e.jsx("li",{children:"After 30 days, this cannot be undone"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Type the phone number to confirm:"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:o}),e.jsx(I,{type:"text",placeholder:o||"Phone number",value:l,onChange:N=>C(N.target.value),disabled:h,className:"font-mono"})]}),e.jsxs("label",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",checked:k,onChange:N=>t(N.target.checked),disabled:h,className:"mt-1 rounded"}),e.jsx("span",{className:"text-sm text-foreground",children:"I understand this cannot be undone and I want to delete this phone number"})]}),e.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:e.jsxs("p",{className:"text-xs text-blue-600",children:[e.jsx("strong",{children:"ðŸ“ž Need to recover?"})," Contact support within 30 days to restore this number."]})}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(f,{variant:"primary",className:"flex-1",disabled:h||!k||l!==o,onClick:E,children:h?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4 animate-spin mr-2 inline"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"w-4 h-4 mr-2 inline"}),"Delete Number"]})}),e.jsx(f,{variant:"secondary",className:"flex-1",disabled:h,onClick:()=>{g(!1),C(""),t(!1)},children:"Cancel"})]})]})})]})}const te=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s);function ge(){const[s,m]=a.useState("profile"),[y,p]=a.useState(!1),[i,j]=a.useState(!1),[u,d]=a.useState(null),[o,v]=a.useState(null),[w,P]=a.useState(!1),[c,g]=a.useState(!1),[l,C]=a.useState({name:"",email:""}),k=async()=>{try{p(!0);const r=await O();d(r),C({name:r.name||"",email:r.email||""})}catch{n.error("Failed to load profile. Please refresh the page.")}finally{p(!1)}},t=async()=>{try{g(!0);const r=await Y();v(r.telnyxPhoneNumber)}catch{v(null)}finally{g(!1)}};a.useEffect(()=>{k(),t()},[]);const h=async r=>{if(r.preventDefault(),!l.name.trim()){n.error("Church name is required");return}if(!l.email.trim()){n.error("Email address is required");return}if(!te(l.email.trim())){n.error("Please enter a valid email address");return}try{j(!0),await V({name:l.name.trim(),email:l.email.trim()}),n.success("Profile updated successfully"),k()}catch{n.error("Failed to update profile. Please try again.")}finally{j(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(q,{children:e.jsxs("div",{className:"px-4 md:px-8 py-8 w-full",children:[e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Settings"})}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your church account and permissions"})]}),e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-8",children:e.jsxs(x,{children:[e.jsx("div",{className:"border-b border-border/40",children:e.jsx("div",{className:"flex flex-wrap",children:["profile","coadmins","numbers","logs"].map((r,D)=>e.jsxs(b.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:D*.05},onClick:()=>m(r),className:`flex-1 min-w-[120px] px-4 py-4 text-center font-medium border-b-2 transition ${s===r?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[r==="profile"&&"Church Profile",r==="coadmins"&&"Co-Admins",r==="numbers"&&"Phone Numbers",r==="logs"&&"Activity Logs"]},r))})}),e.jsxs("div",{className:"p-8",children:[s==="profile"&&e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Church Profile"}),y?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(b.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0},children:e.jsx(L,{className:"w-8 h-8 text-primary"})})}):e.jsxs("form",{onSubmit:h,className:"max-w-2xl",children:[e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:e.jsx(I,{label:"Church Name",type:"text",value:l.name,onChange:r=>C({...l,name:r.target.value}),placeholder:"Your church name"})}),e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-6",children:e.jsx(I,{label:"Email Address",type:"email",value:l.email,onChange:r=>C({...l,email:r.target.value}),placeholder:"contact@church.com"})}),u&&e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:e.jsxs(x,{variant:"gradient",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"Account Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"})," ",e.jsx("span",{className:"font-medium text-foreground",children:u.subscriptionStatus})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Created:"})," ",e.jsx("span",{className:"font-medium text-foreground",children:new Date(u.createdAt).toLocaleDateString()})]})]})]})}),e.jsx(f,{type:"submit",variant:"primary",disabled:i,children:i?"Saving...":"Save Changes"})]})]}),s==="coadmins"&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx(Z,{})}),s==="numbers"&&e.jsxs(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-6",children:"Phone Numbers"}),c?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(b.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0},children:e.jsx(L,{className:"w-8 h-8 text-primary"})})}):e.jsxs("div",{className:"max-w-2xl space-y-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx(se,{currentPhoneNumber:o,onSuccess:(r,D)=>{v(r),t(),r?n.success("Phone number linked successfully!"):n.success("Phone number deleted (30-day recovery window)")}})}),e.jsxs(x,{variant:"gradient",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(M,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"font-semibold text-foreground",children:"Current Phone Number"})]}),o?e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:o}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your active Telnyx phone number for receiving SMS messages and conversations."})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-muted-foreground",children:"No phone number linked yet. Link a number you've purchased from Telnyx above or buy one to start."}),e.jsx(f,{variant:"primary",onClick:()=>P(!0),children:"Buy Phone Number"})]})]}),e.jsxs(x,{variant:"default",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-3",children:"About Phone Numbers"}),e.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsx("span",{children:"Each church gets one dedicated phone number for receiving member conversations"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsx("span",{children:"Members text your number to start conversations with your church"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsx("span",{children:"When you link a number, we automatically create a webhook for receiving messages"})]}),e.jsxs("li",{className:"flex gap-2",children:[e.jsx("span",{className:"text-primary font-bold",children:"â€¢"}),e.jsx("span",{children:"Numbers are powered by Telnyx for reliable SMS/MMS delivery"})]})]})]})]})]}),s==="logs"&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:e.jsx(ee,{})})]})]})})]})}),e.jsx(z,{isOpen:w,onClose:()=>P(!1),onPurchaseComplete:r=>{v(r),P(!1),n.success("Phone number purchased successfully!")}})]})}export{ge as AdminSettingsPage,ge as default};
//# sourceMappingURL=AdminSettingsPage-DUQMhVo4.js.map
