import{r as t,_ as a,j as e,B as r,S as N,C as h}from"./index-D-3FiYPt.js";import{g as k,T as C,d as w}from"./TemplateFormModal-Cn22bANz.js";import"./index.esm-DRKgdTb_.js";function E(){const[l,o]=t.useState([]),[y,c]=t.useState(!0),[f,n]=t.useState(!1),[p,d]=t.useState(null);t.useEffect(()=>{m()},[]);const m=async()=>{try{c(!0);const s=await k();o(s)}catch(s){a.error(s.message||"Failed to load templates")}finally{c(!1)}},x=()=>{d(null),n(!0)},g=s=>{d(s),n(!0)},j=async(s,u)=>{if(u){a.error("Cannot delete default templates");return}if(window.confirm("Are you sure you want to delete this template?"))try{await w(s),o(l.filter(i=>i.id!==s)),a.success("Template deleted")}catch(i){a.error(i.message||"Failed to delete template")}},b=()=>{n(!1),d(null),m()},v=s=>({service_reminder:"Service Reminder",event:"Event",prayer:"Prayer",thank_you:"Thank You",welcome:"Welcome",offering:"Offering"})[s]||s;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-secondary-50 dark:from-secondary-900 to-secondary-100 dark:to-secondary-950 p-6 transition-colors duration-normal",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-secondary-900 dark:text-secondary-50 mb-2",children:"ðŸ“‹ Message Templates"}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400",children:"Reuse message templates to save time"})]}),e.jsx(r,{variant:"primary",size:"lg",onClick:x,children:"+ Create Template"})]}),y?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(N,{size:"lg",text:"Loading templates..."})}):l.length===0?e.jsxs(h,{variant:"highlight",className:"text-center py-16",children:[e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:"text-6xl",children:"ðŸ“‹"})}),e.jsx("h2",{className:"text-2xl font-bold text-secondary-900 dark:text-secondary-50 mb-3",children:"No Templates Yet"}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mb-6 max-w-md mx-auto",children:"Create templates to quickly send frequently used messages."}),e.jsx(r,{variant:"primary",size:"md",onClick:x,children:"Create First Template"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(s=>e.jsxs(h,{variant:"default",className:"hover:shadow-lg transition-shadow flex flex-col",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-secondary-900 dark:text-secondary-50",children:s.name}),e.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-1",children:v(s.category)})]}),s.isDefault&&e.jsx("span",{className:"inline-block px-2 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 text-xs font-semibold rounded",children:"Default"})]}),e.jsx("p",{className:"text-secondary-700 dark:text-secondary-300 text-sm mb-4 flex-grow line-clamp-3",children:s.content}),e.jsx("div",{className:"flex justify-between items-center mb-4 pt-4 border-t border-secondary-200 dark:border-secondary-700",children:e.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-400",children:["Used ",s.usageCount," times"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"secondary",size:"sm",onClick:()=>g(s),fullWidth:!0,children:"Edit"}),e.jsx(r,{variant:"danger",size:"sm",onClick:()=>j(s.id,s.isDefault),disabled:s.isDefault,fullWidth:!0,children:"Delete"})]})]},s.id))})]}),f&&e.jsx(C,{template:p,onClose:b})]})}export{E as TemplatesPage,E as default};
//# sourceMappingURL=TemplatesPage-DSOUwgA9.js.map
