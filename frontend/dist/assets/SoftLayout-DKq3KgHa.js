import{c as j,b as T,i as F,u as q,P as D,d as U,e as W,L as G,m as f,U as L,M as E,F as K,C as O,a as V,X as H,Z as X}from"./proxy-DUSIY0-W.js";import{r,j as e,u as Z,q as J,a as Q,c as Y}from"./index-Dqt43-1K.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],te=j("chevron-right",ee);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ne=j("credit-card",se);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],oe=j("git-branch",ae);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],ie=j("history",re);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ce=j("layout-dashboard",le);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Me=j("loader",de);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ue=j("log-out",he);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],fe=j("menu",pe);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xe=j("settings",me);function I(t,o){if(typeof t=="function")return t(o);t!=null&&(t.current=o)}function ye(...t){return o=>{let a=!1;const l=t.map(i=>{const s=I(i,o);return!a&&typeof s=="function"&&(a=!0),s});if(a)return()=>{for(let i=0;i<l.length;i++){const s=l[i];typeof s=="function"?s():I(t[i],null)}}}}function be(...t){return r.useCallback(ye(...t),t)}class ge extends r.Component{getSnapshotBeforeUpdate(o){const a=this.props.childRef.current;if(a&&o.isPresent&&!this.props.isPresent){const l=a.offsetParent,i=F(l)&&l.offsetWidth||0,s=this.props.sizeRef.current;s.height=a.offsetHeight||0,s.width=a.offsetWidth||0,s.top=a.offsetTop,s.left=a.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function je({children:t,isPresent:o,anchorX:a,root:l}){const i=r.useId(),s=r.useRef(null),c=r.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:y}=r.useContext(T),k=be(s,t?.ref);return r.useInsertionEffect(()=>{const{width:h,height:w,top:d,left:m,right:n}=c.current;if(o||!s.current||!h||!w)return;const b=a==="left"?`left: ${m}`:`right: ${n}`;s.current.dataset.motionPopId=i;const u=document.createElement("style");y&&(u.nonce=y);const v=l??document.head;return v.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${w}px !important;
            ${b}px !important;
            top: ${d}px !important;
          }
        `),()=>{v.contains(u)&&v.removeChild(u)}},[o]),e.jsx(ge,{isPresent:o,childRef:s,sizeRef:c,children:r.cloneElement(t,{ref:k})})}const we=({children:t,initial:o,isPresent:a,onExitComplete:l,custom:i,presenceAffectsLayout:s,mode:c,anchorX:y,root:k})=>{const h=q(ve),w=r.useId();let d=!0,m=r.useMemo(()=>(d=!1,{id:w,initial:o,isPresent:a,custom:i,onExitComplete:n=>{h.set(n,!0);for(const b of h.values())if(!b)return;l&&l()},register:n=>(h.set(n,!1),()=>h.delete(n))}),[a,h,l]);return s&&d&&(m={...m}),r.useMemo(()=>{h.forEach((n,b)=>h.set(b,!1))},[a]),r.useEffect(()=>{!a&&!h.size&&l&&l()},[a]),c==="popLayout"&&(t=e.jsx(je,{isPresent:a,anchorX:y,root:k,children:t})),e.jsx(D.Provider,{value:m,children:t})};function ve(){return new Map}const M=t=>t.key||"";function z(t){const o=[];return r.Children.forEach(t,a=>{r.isValidElement(a)&&o.push(a)}),o}const P=({children:t,custom:o,initial:a=!0,onExitComplete:l,presenceAffectsLayout:i=!0,mode:s="sync",propagate:c=!1,anchorX:y="left",root:k})=>{const[h,w]=U(c),d=r.useMemo(()=>z(t),[t]),m=c&&!h?[]:d.map(M),n=r.useRef(!0),b=r.useRef(d),u=q(()=>new Map),[v,C]=r.useState(d),[x,_]=r.useState(d);W(()=>{n.current=!1,b.current=d;for(let g=0;g<x.length;g++){const p=M(x[g]);m.includes(p)?u.delete(p):u.get(p)!==!0&&u.set(p,!1)}},[x,m.length,m.join("-")]);const $=[];if(d!==v){let g=[...d];for(let p=0;p<x.length;p++){const N=x[p],R=M(N);m.includes(R)||(g.splice(p,0,N),$.push(N))}return s==="wait"&&$.length&&(g=$),_(z(g)),C(d),null}const{forceRender:A}=r.useContext(G);return e.jsx(e.Fragment,{children:x.map(g=>{const p=M(g),N=c&&!h?!1:d===x||m.includes(p),R=()=>{if(u.has(p))u.set(p,!0);else return;let S=!0;u.forEach(B=>{B||(S=!1)}),S&&(A?.(),_(b.current),c&&w?.(),l&&l())};return e.jsx(we,{isPresent:N,initial:!n.current||a?void 0:!1,custom:o,presenceAffectsLayout:i,mode:s,root:k,onExitComplete:N?void 0:R,anchorX:y,children:g},p)})})};function $e({children:t,className:o="",variant:a="default",hover:l=!0,onClick:i,index:s=0}){const c="rounded-2xl p-6 transition-all duration-300 border border-border/40",y={default:"bg-card/60 backdrop-blur-md shadow-lg",gradient:"bg-gradient-to-br from-primary/20 to-cyan-500/20 backdrop-blur-md shadow-lg",transparent:"bg-card/30 backdrop-blur-sm shadow-sm"};return e.jsx(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.05,duration:.4},whileHover:l?{y:-4,boxShadow:"0 20px 40px rgba(59, 130, 246, 0.15)"}:{},onClick:i,className:`${c} ${y[a]} ${o} ${i?"cursor-pointer":""}`,children:t})}function ke(){const t=Z(),o=J(),{logout:a,church:l}=Q(),{currentBranchId:i}=Y(),[s,c]=r.useState(!0),[y,k]=r.useState(null),h=()=>{a(),t("/login")},w=[{label:"Dashboard",icon:e.jsx(ce,{className:"w-5 h-5"}),path:"/dashboard"},{label:"Branches",icon:e.jsx(oe,{className:"w-5 h-5"}),path:"/branches"},{label:"Groups",icon:e.jsx(L,{className:"w-5 h-5"}),path:`/branches/${i}/groups`,conditional:!0},{label:"Members",icon:e.jsx(L,{className:"w-5 h-5"}),path:"/members",conditional:!0},{label:"Messaging",icon:e.jsx(E,{className:"w-5 h-5"}),path:"#",subItems:[{label:"Send Message",icon:e.jsx(E,{className:"w-4 h-4"}),path:"/send-message"},{label:"History",icon:e.jsx(ie,{className:"w-4 h-4"}),path:"/message-history"},{label:"Templates",icon:e.jsx(K,{className:"w-4 h-4"}),path:"/templates"},{label:"Recurring",icon:e.jsx(O,{className:"w-4 h-4"}),path:"/recurring-messages"}]},{label:"Analytics",icon:e.jsx(V,{className:"w-5 h-5"}),path:"/analytics"},{label:"Billing",icon:e.jsx(ne,{className:"w-5 h-5"}),path:"/billing"},{label:"Settings",icon:e.jsx(xe,{className:"w-5 h-5"}),path:"/admin/settings"}],d=n=>o.pathname===n||o.pathname.startsWith(n.split("?")[0]),m=w.filter(n=>!n.conditional||n.conditional&&i);return e.jsxs(e.Fragment,{children:[e.jsx(f.button,{whileHover:{scale:1.05},onClick:()=>c(!s),className:"fixed top-4 left-4 z-50 md:hidden p-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg text-white",children:s?e.jsx(H,{className:"w-6 h-6"}):e.jsx(fe,{className:"w-6 h-6"})}),e.jsx(P,{children:s&&e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(!1),className:"fixed inset-0 bg-black/50 z-30 md:hidden"})}),e.jsxs(f.div,{initial:{x:-288},animate:{x:s?0:-288},transition:{duration:.3},className:"fixed left-0 top-0 h-screen w-72 bg-card/80 backdrop-blur-xl border-r border-border/40 z-40 flex flex-col overflow-hidden md:translate-x-0 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/40",children:[e.jsxs(f.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(X,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-foreground",children:"Koinonia"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:l?.name})]})]}),e.jsx(f.button,{whileHover:{scale:1.1},onClick:()=>c(!1),className:"md:hidden p-1 hover:bg-muted/50 rounded-lg",children:e.jsx(H,{className:"w-5 h-5 text-muted-foreground"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto px-3 py-6 space-y-2 custom-scrollbar",children:m.map((n,b)=>{const u=n.subItems&&n.subItems.length>0,v=d(n.path),C=y===n.label;return e.jsx(f.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:b*.05},children:u?e.jsxs(e.Fragment,{children:[e.jsxs(f.button,{whileHover:{backgroundColor:"rgba(59, 130, 246, 0.1)"},onClick:()=>k(C?null:n.label),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all ${v?"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-primary border-l-2 border-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/30"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[n.icon,e.jsx("span",{className:"font-semibold",children:n.label})]}),e.jsx(f.div,{animate:{rotate:C?90:0},transition:{duration:.2},children:e.jsx(te,{className:"w-4 h-4"})})]}),e.jsx(P,{children:C&&e.jsx(f.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsx("div",{className:"pl-9 space-y-1 mb-2",children:n.subItems?.map(x=>e.jsxs(f.button,{whileHover:{x:4},onClick:()=>{t(x.path),c(!1)},className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-all ${d(x.path)?"bg-primary/20 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/30"}`,children:[x.icon,e.jsx("span",{children:x.label})]},x.label))})})})]}):e.jsxs(f.button,{whileHover:{x:4},onClick:()=>{t(n.path),c(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${v?"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-primary border-l-2 border-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/30"}`,children:[n.icon,e.jsx("span",{className:"font-semibold",children:n.label})]})},n.label)})}),e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"border-t border-border/40 p-4",children:e.jsxs(f.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:h,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-all font-semibold border border-red-500/20",children:[e.jsx(ue,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})})]}),e.jsx("div",{className:"hidden md:block w-72"})]})}function Re({children:t}){return e.jsxs("div",{className:"min-h-screen bg-background flex",children:[e.jsx(ke,{}),e.jsx("main",{className:"flex-1 md:ml-0 ml-0 pt-16 md:pt-0",children:t})]})}export{te as C,ie as H,Me as L,$e as S,Re as a};
//# sourceMappingURL=SoftLayout-DKq3KgHa.js.map
