{"version":3,"file":"TemplateFormModal-tSIU3ZHb.js","sources":["../../src/api/templates.js","../../src/components/templates/TemplateFormModal.js"],"sourcesContent":["import client from './client';\n/**\n * Get all templates (default + custom)\n */\nexport async function getTemplates() {\n    const response = await client.get('/templates');\n    return response.data;\n}\n/**\n * Create custom template\n */\nexport async function createTemplate(data) {\n    const response = await client.post('/templates', data);\n    return response.data;\n}\n/**\n * Update template\n */\nexport async function updateTemplate(templateId, data) {\n    const response = await client.put(`/templates/${templateId}`, data);\n    return response.data;\n}\n/**\n * Delete template (custom only)\n */\nexport async function deleteTemplate(templateId) {\n    const response = await client.delete(`/templates/${templateId}`);\n    return response.data;\n}\n//# sourceMappingURL=templates.js.map","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport toast from 'react-hot-toast';\nimport { createTemplate, updateTemplate } from '../../api/templates';\nexport default function TemplateFormModal({ template, onClose }) {\n    const [isLoading, setIsLoading] = useState(false);\n    const { register, handleSubmit, formState: { errors } } = useForm({\n        defaultValues: template\n            ? {\n                name: template.name,\n                content: template.content,\n                category: template.category,\n            }\n            : {\n                name: '',\n                content: '',\n                category: 'event',\n            },\n    });\n    const onSubmit = async (data) => {\n        try {\n            setIsLoading(true);\n            if (template) {\n                await updateTemplate(template.id, data);\n                toast.success('Template updated');\n            }\n            else {\n                await createTemplate(data);\n                toast.success('Template created');\n            }\n            onClose();\n        }\n        catch (error) {\n            toast.error(error.message || 'Failed to save template');\n        }\n        finally {\n            setIsLoading(false);\n        }\n    };\n    return (_jsx(\"div\", { className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\", children: _jsxs(\"div\", { className: \"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6\", children: [_jsx(\"h2\", { className: \"text-2xl font-bold text-gray-900 dark:text-white mb-4\", children: template ? 'Edit Template' : 'Create Template' }), _jsxs(\"form\", { onSubmit: handleSubmit(onSubmit), className: \"space-y-4\", children: [_jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\", children: \"Template Name\" }), _jsx(\"input\", { ...register('name', { required: 'Name is required' }), type: \"text\", className: \"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\", placeholder: \"e.g., Sunday Reminder\" }), errors.name && (_jsx(\"p\", { className: \"text-red-600 text-sm mt-1\", children: errors.name.message }))] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\", children: \"Category\" }), _jsxs(\"select\", { ...register('category', { required: 'Category is required' }), className: \"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500\", children: [_jsx(\"option\", { value: \"service_reminder\", children: \"Service Reminder\" }), _jsx(\"option\", { value: \"event\", children: \"Event\" }), _jsx(\"option\", { value: \"prayer\", children: \"Prayer\" }), _jsx(\"option\", { value: \"thank_you\", children: \"Thank You\" }), _jsx(\"option\", { value: \"welcome\", children: \"Welcome\" }), _jsx(\"option\", { value: \"offering\", children: \"Offering\" })] }), errors.category && (_jsx(\"p\", { className: \"text-red-600 text-sm mt-1\", children: errors.category.message }))] }), _jsxs(\"div\", { children: [_jsx(\"label\", { className: \"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\", children: \"Content\" }), _jsx(\"textarea\", { ...register('content', { required: 'Content is required' }), className: \"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\", rows: 6, placeholder: \"Message content...\" }), errors.content && (_jsx(\"p\", { className: \"text-red-600 text-sm mt-1\", children: errors.content.message }))] }), _jsxs(\"div\", { className: \"flex gap-3 pt-4\", children: [_jsx(\"button\", { type: \"button\", onClick: onClose, className: \"flex-1 px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition\", disabled: isLoading, children: \"Cancel\" }), _jsx(\"button\", { type: \"submit\", className: \"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition disabled:bg-gray-400\", disabled: isLoading, children: isLoading ? 'Saving...' : 'Save' })] })] })] }) }));\n}\n//# sourceMappingURL=TemplateFormModal.js.map"],"names":["getTemplates","client","createTemplate","data","updateTemplate","templateId","deleteTemplate","TemplateFormModal","template","onClose","isLoading","setIsLoading","useState","register","handleSubmit","errors","useForm","onSubmit","toast","error","_jsx","_jsxs"],"mappings":"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"}