import{i as n,r as x,j as e,_ as l}from"./index-Coc3MG9e.js";import{u as p}from"./index.esm-tsqnUglz.js";async function h(){return(await n.get("/templates")).data}async function g(t){return(await n.post("/templates",t)).data}async function f(t,s){return(await n.put(`/templates/${t}`,s)).data}async function j(t){return(await n.delete(`/templates/${t}`)).data}function v({template:t,onClose:s}){const[r,i]=x.useState(!1),{register:o,handleSubmit:d,formState:{errors:a}}=p({defaultValues:t?{name:t.name,content:t.content,category:t.category}:{name:"",content:"",category:"event"}}),m=async c=>{try{i(!0),t?(await f(t.id,c),l.success("Template updated")):(await g(c),l.success("Template created")),s()}catch(u){l.error(u.message||"Failed to save template")}finally{i(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:t?"Edit Template":"Create Template"}),e.jsxs("form",{onSubmit:d(m),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Template Name"}),e.jsx("input",{...o("name",{required:"Name is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Sunday Reminder"}),a.name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{...o("category",{required:"Category is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"service_reminder",children:"Service Reminder"}),e.jsx("option",{value:"event",children:"Event"}),e.jsx("option",{value:"prayer",children:"Prayer"}),e.jsx("option",{value:"thank_you",children:"Thank You"}),e.jsx("option",{value:"welcome",children:"Welcome"}),e.jsx("option",{value:"offering",children:"Offering"})]}),a.category&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.category.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Content"}),e.jsx("textarea",{...o("content",{required:"Content is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:6,placeholder:"Message content..."}),a.content&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:a.content.message})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition",disabled:r,children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition disabled:bg-gray-400",disabled:r,children:r?"Saving...":"Save"})]})]})]})})}export{v as T,j as d,h as g};
//# sourceMappingURL=TemplateFormModal-B0tsikul.js.map
