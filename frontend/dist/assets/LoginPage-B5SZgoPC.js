import{u as f,a as p,r as i,f as b,j as e,C as j,I as o,B as v,L as w,l as N,_ as d}from"./index-DLE-cLC5.js";import{u as k}from"./index.esm-CupfKh92.js";import{B as y}from"./BackButton-BmNOCB6a.js";function C(){const c=f(),{setAuth:u}=p(),[r,t]=i.useState(!1);i.useEffect(()=>{b().catch(()=>{})},[]);const{register:l,handleSubmit:m,formState:{errors:n}}=k({defaultValues:{email:"",password:""}}),h=async x=>{t(!0);try{const a=await N(x),{admin:s,church:g}=a.data;u(s,g,a.data.accessToken,a.data.refreshToken),c("/dashboard",{replace:!0}),d.success("Login successful!")}catch(a){console.error("Login error:",a);const s=a.response?.data?.error||"Login failed. Please try again.";d.error(s),t(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-white to-primary-50 dark:from-primary-950 dark:to-primary-900 flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-accent-500 opacity-10 rounded-full blur-3xl pointer-events-none"}),e.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fadeIn",children:[e.jsx("div",{className:"mb-6",children:e.jsx(y,{variant:"ghost",size:"sm"})}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"w-14 h-14 bg-accent-500 rounded-xl flex items-center justify-center shadow-md hover:shadow-lg transition-shadow",children:e.jsx("span",{className:"text-primary-900 font-bold text-2xl",children:"C"})})}),e.jsx("h1",{className:"text-4xl font-bold text-neutral-900 dark:text-white mb-3 tracking-tight",children:"Welcome Back"}),e.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400 font-light",children:"Church SMS Communication Platform"})]}),e.jsxs(j,{variant:"default",className:"p-8 border border-neutral-200 dark:border-neutral-800 shadow-lg",children:[e.jsxs("form",{onSubmit:m(h),className:"space-y-5",children:[e.jsx("div",{children:e.jsx(o,{label:"Email Address",type:"email",placeholder:"pastor@church.com",disabled:r,error:n.email?.message,...l("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email format"}}),className:"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700"})}),e.jsx("div",{children:e.jsx(o,{label:"Password",type:"password",placeholder:"••••••••",disabled:r,error:n.password?.message,...l("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700"})}),e.jsx(v,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,isLoading:r,disabled:r,className:"font-semibold mt-6",children:r?"Logging in...":"Login"})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-neutral-200 dark:border-neutral-800",children:e.jsxs("p",{className:"text-center text-neutral-600 dark:text-neutral-400 text-sm",children:["Don't have an account?"," ",e.jsx(w,{to:"/register",className:"text-accent-500 hover:text-accent-400 dark:text-accent-400 dark:hover:text-accent-300 font-semibold transition-colors",children:"Sign up"})]})})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2 text-sm text-neutral-600 dark:text-neutral-400",children:[e.jsx("svg",{className:"w-4 h-4 text-success-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 111.414 1.414L7.414 8l3.293 3.293a1 1 0 11-1.414 1.414l-4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"Secure login • No password stored"})]})]})]})}export{C as LoginPage,C as default};
//# sourceMappingURL=LoginPage-B5SZgoPC.js.map
