import{R as p,g as Qe,r as P,j as o,B as st,c as lt,_ as me,a as le,d as ct}from"./index-CYlBanuv.js";import{c as Ye,g as ut,a as dt}from"./analytics-DOE_Jh3u.js";import{g as ft}from"./members-XaFCBvDy.js";import{g as mt}from"./groups-DKZBK2Bc.js";import{g as pt,P as ht,a as gt}from"./PhoneNumberPurchaseModal-yQqnTQ3a.js";import{S as ie,a as yt,L as vt}from"./SoftLayout-Cp1fW9yb.js";import{m as j}from"./proxy-dvsqPYZm.js";import{g as xt}from"./billing-CQKKC__k.js";import{C as bt}from"./ChatWidget-BmQBsyhd.js";import{c as Xe,A as jt,X as At,U as kt}from"./index-JGUmpJJ5.js";import{C as Pt}from"./check-CKY7-YuZ.js";import{S as wt}from"./send-CjhvXA4K.js";import{f as O,r as Je,a as St,b as et,c as Ot,i as Y,T as _e,p as B,L as E,d as Te,e as tt,D as Nt,u as _t,C as Tt,g as te,h as Z,S as Rt,A as Lt,j as Ct,k as Re,l as Et,m as X,n as It,G as $t,o as de,q as Dt,s as rt,t as Mt,v as ce,w as Le,x as Bt,y as Ft,R as je,z as Ce,X as Ee,Y as Ie,B as Ae,E as $e}from"./generateCategoricalChart-Bcy8WuIT.js";import{B as Kt}from"./BarChart-BQdFrVK2.js";import{L as Wt,a as De}from"./LineChart-Bkg9hW_S.js";import"./index-CAAHQ0Qn.js";import"./index-Clek-LVZ.js";import"./phone-DQr_8uBx.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],zt=Xe("activity",Vt);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qt=Xe("trending-up",Gt);var Ht=["points","className","baseLinePoints","connectNulls"];function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},J.apply(this,arguments)}function Ut(e,t){if(e==null)return{};var a=Zt(e,t),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Zt(e,t){if(e==null)return{};var a={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}function Me(e){return Jt(e)||Xt(e)||Yt(e)||Qt()}function Qt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yt(e,t){if(e){if(typeof e=="string")return we(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return we(e,t)}}function Xt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jt(e){if(Array.isArray(e))return we(e)}function we(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Be=function(t){return t&&t.x===+t.x&&t.y===+t.y},er=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return t.forEach(function(n){Be(n)?a[a.length-1].push(n):a[a.length-1].length>0&&a.push([])}),Be(t[0])&&a[a.length-1].push(t[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},oe=function(t,a){var n=er(t);a&&(n=[n.reduce(function(i,s){return[].concat(Me(i),Me(s))},[])]);var r=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(r,"Z"):r},tr=function(t,a,n){var r=oe(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(oe(a.reverse(),n).slice(1))},rr=function(t){var a=t.points,n=t.className,r=t.baseLinePoints,i=t.connectNulls,s=Ut(t,Ht);if(!a||!a.length)return null;var l=Ye("recharts-polygon",n);if(r&&r.length){var c=s.stroke&&s.stroke!=="none",f=tr(a,r,i);return p.createElement("g",{className:l},p.createElement("path",J({},O(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),c?p.createElement("path",J({},O(s,!0),{fill:"none",d:oe(a,i)})):null,c?p.createElement("path",J({},O(s,!0),{fill:"none",d:oe(r,i)})):null)}var d=oe(a,i);return p.createElement("path",J({},O(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))},ke,Fe;function nr(){if(Fe)return ke;Fe=1;var e=Je(),t=St(),a=et();function n(r,i){return r&&r.length?e(r,a(i,2),t):void 0}return ke=n,ke}var ar=nr();const ir=Qe(ar);var Pe,Ke;function or(){if(Ke)return Pe;Ke=1;var e=Je(),t=et(),a=Ot();function n(r,i){return r&&r.length?e(r,t(i,2),a):void 0}return Pe=n,Pe}var sr=or();const lr=Qe(sr);var cr=["cx","cy","angle","ticks","axisLine"],ur=["ticks","tick","angle","tickFormatter","stroke"];function re(e){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(e)}function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},se.apply(this,arguments)}function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?We(Object(a),!0).forEach(function(n){ye(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Ve(e,t){if(e==null)return{};var a=dr(e,t),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function dr(e,t){if(e==null)return{};var a={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nt(n.key),n)}}function mr(e,t,a){return t&&ze(e.prototype,t),a&&ze(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function pr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Se(e,t)}function Se(e,t){return Se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Se(e,t)}function hr(e){var t=vr();return function(){var n=pe(e),r;if(t){var i=pe(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return gr(this,r)}}function gr(e,t){if(t&&(re(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yr(e)}function yr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},pe(e)}function ye(e,t,a){return t=nt(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function nt(e){var t=xr(e,"string");return re(t)==="symbol"?t:String(t)}function xr(e,t){if(re(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(re(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ve=(function(e){pr(a,e);var t=hr(a);function a(){return fr(this,a),t.apply(this,arguments)}return mr(a,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,l=s.angle,c=s.cx,f=s.cy;return B(c,f,i,l)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.angle,c=r.ticks,f=ir(c,function(u){return u.coordinate||0}),d=lr(c,function(u){return u.coordinate||0});return{cx:i,cy:s,startAngle:l,endAngle:l,innerRadius:d.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.angle,c=r.ticks,f=r.axisLine,d=Ve(r,cr),u=c.reduce(function(y,m){return[Math.min(y[0],m.coordinate),Math.max(y[1],m.coordinate)]},[1/0,-1/0]),g=B(i,s,u[0],l),v=B(i,s,u[1],l),A=z(z(z({},O(d)),{},{fill:"none"},O(f)),{},{x1:g.x,y1:g.y,x2:v.x,y2:v.y});return p.createElement("line",se({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,l=i.tick,c=i.angle,f=i.tickFormatter,d=i.stroke,u=Ve(i,ur),g=this.getTickTextAnchor(),v=O(u),A=O(l),y=s.map(function(m,h){var w=r.getTickValueCoord(m),k=z(z(z(z({textAnchor:g,transform:"rotate(".concat(90-c,", ").concat(w.x,", ").concat(w.y,")")},v),{},{stroke:"none",fill:d},A),{},{index:h},w),{},{payload:m});return p.createElement(E,se({className:"recharts-polar-radius-axis-tick",key:"tick-".concat(h)},Te(r.props,m,h)),a.renderTickItem(l,k,f?f(m.value,h):m.value))});return p.createElement(E,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,l=r.tick;return!i||!i.length?null:p.createElement(E,{className:"recharts-polar-radius-axis"},s&&this.renderAxisLine(),l&&this.renderTicks(),tt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var l;return p.isValidElement(r)?l=p.cloneElement(r,i):Y(r)?l=r(i):l=p.createElement(_e,se({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),l}}]),a})(P.PureComponent);ye(ve,"displayName","PolarRadiusAxis");ye(ve,"axisType","radiusAxis");ye(ve,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ne(e){"@babel/helpers - typeof";return ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ne(e)}function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},q.apply(this,arguments)}function Ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ge(Object(a),!0).forEach(function(n){xe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ge(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,at(n.key),n)}}function jr(e,t,a){return t&&qe(e.prototype,t),a&&qe(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}function Oe(e,t){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Oe(e,t)}function kr(e){var t=Sr();return function(){var n=he(e),r;if(t){var i=he(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Pr(this,r)}}function Pr(e,t){if(t&&(ne(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wr(e)}function wr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},he(e)}function xe(e,t,a){return t=at(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function at(e){var t=Or(e,"string");return ne(t)==="symbol"?t:String(t)}function Or(e,t){if(ne(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(ne(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nr=Math.PI/180,He=1e-5,be=(function(e){Ar(a,e);var t=kr(a);function a(){return br(this,a),t.apply(this,arguments)}return jr(a,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,l=i.cy,c=i.radius,f=i.orientation,d=i.tickSize,u=d||8,g=B(s,l,c,r.coordinate),v=B(s,l,c+(f==="inner"?-1:1)*u,r.coordinate);return{x1:g.x,y1:g.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*Nr),l;return s>He?l=i==="outer"?"start":"end":s<-He?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.radius,c=r.axisLine,f=r.axisLineType,d=G(G({},O(this.props)),{},{fill:"none"},O(c));if(f==="circle")return p.createElement(Nt,q({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:s,r:l}));var u=this.props.ticks,g=u.map(function(v){return B(i,s,l,v.coordinate)});return p.createElement(rr,q({className:"recharts-polar-angle-axis-line"},d,{points:g}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,l=i.tick,c=i.tickLine,f=i.tickFormatter,d=i.stroke,u=O(this.props),g=O(l),v=G(G({},u),{},{fill:"none"},O(c)),A=s.map(function(y,m){var h=r.getTickLineCoord(y),w=r.getTickTextAnchor(y),k=G(G(G({textAnchor:w},u),{},{stroke:"none",fill:d},g),{},{index:m,payload:y,x:h.x2,y:h.y2});return p.createElement(E,q({className:"recharts-polar-angle-axis-tick",key:"tick-".concat(m)},Te(r.props,y,m)),c&&p.createElement("line",q({className:"recharts-polar-angle-axis-tick-line"},v,h)),l&&a.renderTickItem(l,k,f?f(y.value,m):y.value))});return p.createElement(E,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,l=r.axisLine;return s<=0||!i||!i.length?null:p.createElement(E,{className:"recharts-polar-angle-axis"},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var l;return p.isValidElement(r)?l=p.cloneElement(r,i):Y(r)?l=r(i):l=p.createElement(_e,q({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),l}}]),a})(P.PureComponent);xe(be,"displayName","PolarAngleAxis");xe(be,"axisType","angleAxis");xe(be,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var fe;function ae(e){"@babel/helpers - typeof";return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(e)}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ee.apply(this,arguments)}function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ue(Object(a),!0).forEach(function(n){L(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function _r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,it(n.key),n)}}function Tr(e,t,a){return t&&Ze(e.prototype,t),a&&Ze(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ne(e,t)}function Lr(e){var t=Er();return function(){var n=ge(e),r;if(t){var i=ge(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Cr(this,r)}}function Cr(e,t){if(t&&(ae(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q(e)}function Q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Er(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ge(e)}function L(e,t,a){return t=it(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function it(e){var t=Ir(e,"string");return ae(t)==="symbol"?t:String(t)}function Ir(e,t){if(ae(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(ae(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F=(function(e){Rr(a,e);var t=Lr(a);function a(n){var r;return _r(this,a),r=t.call(this,n),L(Q(r),"pieRef",null),L(Q(r),"sectorRefs",[]),L(Q(r),"id",_t("recharts-pie-")),L(Q(r),"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Y(i)&&i()}),L(Q(r),"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Y(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Tr(a,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.label,c=s.labelLine,f=s.dataKey,d=s.valueKey,u=O(this.props),g=O(l),v=O(c),A=l&&l.offsetRadius||20,y=r.map(function(m,h){var w=(m.startAngle+m.endAngle)/2,k=B(m.cx,m.cy,m.outerRadius+A,w),S=b(b(b(b({},u),m),{},{stroke:"none"},g),{},{index:h,textAnchor:a.getTextAnchor(k.x,m.cx)},k),D=b(b(b(b({},u),m),{},{fill:"none",stroke:m.fill},v),{},{index:h,points:[B(m.cx,m.cy,m.outerRadius,w),k],key:"line"}),R=f;return te(f)&&te(d)?R="value":te(f)&&(R=d),p.createElement(E,{key:"label-".concat(h)},c&&a.renderLabelLineItem(c,D),a.renderLabelItem(l,S,Z(m,R)))});return p.createElement(E,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,l=s.activeShape,c=s.blendStroke,f=s.inactiveShape;return r.map(function(d,u){var g=i.isActiveIndex(u),v=f&&i.hasActiveIndex()?f:null,A=g?l:v,y=b(b({},d),{},{stroke:c?d.fill:d.stroke,tabIndex:-1});return p.createElement(E,ee({ref:function(h){h&&!i.sectorRefs.includes(h)&&i.sectorRefs.push(h)},tabIndex:-1,className:"recharts-pie-sector"},Te(i.props,d,u),{key:"sector-".concat(u)}),p.createElement(Rt,ee({option:A,isActive:g,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,d=i.animationEasing,u=i.animationId,g=this.state,v=g.prevSectors,A=g.prevIsAnimationActive;return p.createElement(Lt,{begin:c,duration:f,isActive:l,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var m=y.t,h=[],w=s&&s[0],k=w.startAngle;return s.forEach(function(S,D){var R=v&&v[D],I=D>0?Ct(S,"paddingAngle",0):0;if(R){var N=Re(R.endAngle-R.startAngle,S.endAngle-S.startAngle),M=b(b({},S),{},{startAngle:k+I,endAngle:k+N(m)+I});h.push(M),k=M.endAngle}else{var T=S.endAngle,H=S.startAngle,V=Re(0,T-H),$=V(m),K=b(b({},S),{},{startAngle:k+I,endAngle:k+$+I});h.push(K),k=K.endAngle}}),p.createElement(E,null,r.renderSectorsStatically(h))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,l=this.state.prevSectors;return s&&i&&i.length&&(!l||!Et(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,l=i.sectors,c=i.className,f=i.label,d=i.cx,u=i.cy,g=i.innerRadius,v=i.outerRadius,A=i.isAnimationActive,y=this.state.isAnimationFinished;if(s||!l||!l.length||!X(d)||!X(u)||!X(g)||!X(v))return null;var m=Ye("recharts-pie",c);return p.createElement(E,{tabIndex:this.props.rootTabIndex,className:m,ref:function(w){r.pieRef=w}},this.renderSectors(),f&&this.renderLabels(l),tt.renderCallByParent(this.props,null,!1),(!A||y)&&It.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i){return p.isValidElement(r)?p.cloneElement(r,i):Y(r)?r(i):p.createElement(Tt,ee({},i,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(r,i,s){if(p.isValidElement(r))return p.cloneElement(r,i);var l=s;return Y(r)&&(l=r(i),p.isValidElement(l))?l:p.createElement(_e,ee({},i,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),l)}}]),a})(P.PureComponent);fe=F;L(F,"displayName","Pie");L(F,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!$t.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});L(F,"parseDeltaAngle",function(e,t){var a=de(t-e),n=Math.min(Math.abs(t-e),360);return a*n});L(F,"getRealPieData",function(e){var t=e.props,a=t.data,n=t.children,r=O(e.props),i=Dt(n,rt);return a&&a.length?a.map(function(s,l){return b(b(b({payload:s},r),s),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(s){return b(b({},r),s.props)}):[]});L(F,"parseCoordinateOfPie",function(e,t){var a=t.top,n=t.left,r=t.width,i=t.height,s=Mt(r,i),l=n+ce(e.props.cx,r,r/2),c=a+ce(e.props.cy,i,i/2),f=ce(e.props.innerRadius,s,0),d=ce(e.props.outerRadius,s,s*.8),u=e.props.maxRadius||Math.sqrt(r*r+i*i)/2;return{cx:l,cy:c,innerRadius:f,outerRadius:d,maxRadius:u}});L(F,"getComposedData",function(e){var t=e.item,a=e.offset,n=fe.getRealPieData(t);if(!n||!n.length)return null;var r=t.props,i=r.cornerRadius,s=r.startAngle,l=r.endAngle,c=r.paddingAngle,f=r.dataKey,d=r.nameKey,u=r.valueKey,g=r.tooltipType,v=Math.abs(t.props.minAngle),A=fe.parseCoordinateOfPie(t,a),y=fe.parseDeltaAngle(s,l),m=Math.abs(y),h=f;te(f)&&te(u)?(Le(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),h="value"):te(f)&&(Le(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),h=u);var w=n.filter(function(N){return Z(N,h,0)!==0}).length,k=(m>=360?w:w-1)*c,S=m-w*v-k,D=n.reduce(function(N,M){var T=Z(M,h,0);return N+(X(T)?T:0)},0),R;if(D>0){var I;R=n.map(function(N,M){var T=Z(N,h,0),H=Z(N,d,M),V=(X(T)?T:0)/D,$;M?$=I.endAngle+de(y)*c*(T!==0?1:0):$=s;var K=$+de(y)*((T!==0?v:0)+V*S),U=($+K)/2,x=(A.innerRadius+A.outerRadius)/2,_=[{name:H,value:T,payload:N,dataKey:h,type:g}],C=B(A.cx,A.cy,x,U);return I=b(b(b({percent:V,cornerRadius:i,name:H,tooltipPayload:_,midAngle:U,middleRadius:x,tooltipPosition:C},N),A),{},{value:Z(N,h),startAngle:$,endAngle:K,payload:N,paddingAngle:de(y)*c}),I})}return b(b({},A),{},{sectors:R,data:n})});var $r=Bt({chartName:"PieChart",GraphicalChild:F,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:be},{axisType:"radiusAxis",AxisComp:ve}],formatAxisMap:Ft,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function ue({icon:e,label:t,value:a,change:n,changeType:r="neutral",gradient:i="from-blue-500 to-cyan-500",index:s=0}){const l=r==="positive"?"text-green-400":r==="negative"?"text-red-400":"text-muted-foreground",c=n!==void 0&&n>0?"+":"";return o.jsxs(ie,{variant:"gradient",index:s,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx(j.div,{animate:{scale:[1,1.05,1]},transition:{duration:3,repeat:1/0},className:`bg-gradient-to-br ${i} rounded-xl p-3 shadow-lg`,children:o.jsx(e,{className:"w-6 h-6 text-white"})}),n!==void 0&&o.jsxs("div",{className:`text-sm font-bold ${l}`,children:[c,n,"%"]})]}),o.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:t}),o.jsx("p",{className:"text-3xl font-bold text-foreground",children:a})]})}function Dr({dlcStatus:e,deliveryRate:t,wantsPremiumDelivery:a,size:n="md",variant:r="badge"}){const s=e==="shared_brand"?{emoji:"ðŸ“Š",text:"Standard Delivery",subtext:"65% delivery rate",bgColor:"bg-blue-50",textColor:"text-blue-900",borderColor:"border-blue-200",badgeBg:"bg-blue-100",badgeText:"text-blue-800"}:e==="approved"?{emoji:"âœ…",text:"Premium 10DLC",subtext:"99% delivery rate",bgColor:"bg-green-50",textColor:"text-green-900",borderColor:"border-green-200",badgeBg:"bg-green-100",badgeText:"text-green-800"}:e==="pending"||e==="brand_verified"||e==="campaign_pending"?{emoji:"â³",text:"Pending Approval",subtext:"Premium 10DLC (99% when approved)",bgColor:"bg-yellow-50",textColor:"text-yellow-900",borderColor:"border-yellow-200",badgeBg:"bg-yellow-100",badgeText:"text-yellow-800"}:e==="rejected"?{emoji:"âŒ",text:"Approval Failed",subtext:"Contact support",bgColor:"bg-red-50",textColor:"text-red-900",borderColor:"border-red-200",badgeBg:"bg-red-100",badgeText:"text-red-800"}:{emoji:"â“",text:"Unknown Status",subtext:e||"Loading...",bgColor:"bg-gray-50",textColor:"text-gray-900",borderColor:"border-gray-200",badgeBg:"bg-gray-100",badgeText:"text-gray-800"},l={sm:"px-2 py-1 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"};return r==="badge"?o.jsxs("span",{className:`inline-flex items-center gap-1.5 ${l[n]} rounded-full ${s.badgeBg} ${s.badgeText} font-medium`,children:[o.jsx("span",{children:s.emoji}),o.jsx("span",{children:s.text})]}):r==="inline"?o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl",children:s.emoji}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-foreground",children:s.text}),o.jsx("p",{className:"text-sm text-muted-foreground",children:s.subtext}),t&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Current rate: ",Math.round(t*100),"%"]})]})]}):o.jsx("div",{className:`rounded-lg border ${s.borderColor} ${s.bgColor} p-4`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-3xl",children:s.emoji}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:`font-semibold ${s.textColor}`,children:s.text}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.subtext}),t&&o.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[o.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 overflow-hidden",children:o.jsx("div",{className:`h-full ${e==="approved"?"bg-green-500":e==="shared_brand"?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${t*100}%`}})}),o.jsxs("span",{className:`text-xs font-medium ${s.textColor}`,children:[Math.round(t*100),"%"]})]})]})]})})}function Mr(){const[e,t]=P.useState(null),[a,n]=P.useState(!0);if(P.useEffect(()=>{(async()=>{try{n(!0);const u=await xt();t(u)}catch(u){console.error("Failed to load trial status:",u)}finally{n(!1)}})()},[]),a||!e||!e.onTrial)return null;const r=e.daysRemaining,i=r<=3,s=r<=0;let l="bg-green-50 border-green-200",c="text-green-800",f="âœ“";return s?(l="bg-red-50 border-red-200",c="text-red-800",f="âš "):i&&(l="bg-yellow-50 border-yellow-200",c="text-yellow-800",f="!"),o.jsx("div",{className:`${l} border rounded-lg p-4 mb-6`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:`text-lg font-bold ${c}`,children:f}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-semibold ${c}`,children:s?"Trial Expired":"Free Trial Active"}),o.jsx("p",{className:`text-sm ${c} mt-1`,children:s?"Your trial has expired. Please subscribe to continue using the platform.":r===1?"Your trial expires tomorrow. Subscribe now to keep your account active.":`${r} days remaining in your trial`}),!s&&o.jsx("button",{onClick:()=>window.location.href="/subscribe",className:"mt-2 text-sm font-semibold hover:underline",children:"View Plans â†’"})]})]})})}const Br=()=>o.jsxs("svg",{viewBox:"0 0 240 200",className:"w-full h-32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("circle",{cx:"120",cy:"100",r:"80",fill:"var(--color-primary)",opacity:"0.08"}),o.jsx("circle",{cx:"120",cy:"100",r:"60",fill:"var(--color-primary)",opacity:"0.05"}),o.jsx("ellipse",{cx:"70",cy:"80",rx:"16",ry:"18",fill:"var(--color-primary)"}),o.jsx("path",{d:"M 60 105 Q 70 115 75 130 M 60 105 L 50 125 M 75 105 L 85 125",stroke:"var(--color-primary)",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("ellipse",{cx:"120",cy:"70",rx:"18",ry:"20",fill:"var(--color-primary)"}),o.jsx("path",{d:"M 108 95 Q 120 108 126 130 M 108 95 L 95 120 M 126 95 L 140 120",stroke:"var(--color-primary)",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("ellipse",{cx:"170",cy:"85",rx:"16",ry:"18",fill:"var(--color-primary)"}),o.jsx("path",{d:"M 160 110 Q 170 120 175 135 M 160 110 L 150 130 M 175 110 L 190 130",stroke:"var(--color-primary)",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx(j.circle,{cx:"50",cy:"50",r:"4",fill:"var(--color-primary)",opacity:"0.6",animate:{y:[-5,5,-5],opacity:[.3,.8,.3]},transition:{duration:2,repeat:1/0}}),o.jsx(j.circle,{cx:"180",cy:"45",r:"4",fill:"var(--color-primary)",opacity:"0.6",animate:{y:[5,-5,5],opacity:[.3,.8,.3]},transition:{duration:2.5,repeat:1/0}}),o.jsx(j.circle,{cx:"120",cy:"30",r:"3",fill:"var(--color-primary)",opacity:"0.6",animate:{y:[-8,8,-8],opacity:[.2,.7,.2]},transition:{duration:3,repeat:1/0}})]});function Fr({isOpen:e,onClose:t,onWelcomeComplete:a}){const[n,r]=P.useState(""),[i,s]=P.useState(!1),l=[{id:"pastor",label:"Pastor / Lead Minister",description:"Lead your congregation spiritually",icon:"â›ª"},{id:"admin",label:"Church Administrator",description:"Manage operations and logistics",icon:"ðŸ“‹"},{id:"communications",label:"Communications Lead",description:"Handle messaging and outreach",icon:"ðŸ“¢"},{id:"volunteer",label:"Volunteer Coordinator",description:"Coordinate volunteer activities",icon:"ðŸ‘¥"},{id:"other",label:"Other",description:"Something else",icon:"â­"}],c=async()=>{if(n){s(!0);try{(await lt.post("/auth/complete-welcome",{userRole:n})).data.success&&(me.success("Welcome complete! Let's get started."),a&&a(n,!0),t())}catch(u){console.error("Failed to complete welcome:",u),me.error("Failed to save your preferences. Please try again.")}finally{s(!1)}}},f={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},d={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.4,type:"tween"}}};return o.jsx(jt,{children:e&&o.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4 backdrop-blur-md",children:o.jsxs(j.div,{initial:{opacity:0,scale:.92,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.92,y:30},transition:{duration:.4,ease:"easeOut"},className:"bg-background border border-border/50 rounded-2xl shadow-2xl max-w-4xl w-full overflow-hidden",children:[o.jsx("div",{className:"absolute top-6 right-6 z-10",children:o.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:t,className:"p-2 hover:bg-muted rounded-lg transition-colors duration-200","aria-label":"Close",children:o.jsx(At,{className:"w-5 h-5 text-muted-foreground"})})}),o.jsxs("div",{className:"grid grid-cols-1 gap-0",children:[o.jsxs(j.div,{variants:f,initial:"hidden",animate:"visible",className:"bg-gradient-to-br from-primary/5 to-primary/[0.02] p-6 md:p-8 flex flex-col items-center text-center",children:[o.jsx(j.div,{variants:d,className:"mb-4",children:o.jsx(Br,{})}),o.jsx(j.div,{variants:d,children:o.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-foreground mb-2 leading-tight",children:["Welcome to",o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Koinonia"})]})}),o.jsx(j.p,{variants:d,className:"text-sm text-muted-foreground leading-relaxed",children:"Connect with your congregation. Send messages, manage groups, and build community."})]}),o.jsxs(j.div,{variants:f,initial:"hidden",animate:"visible",className:"p-6 md:p-8 flex flex-col",children:[o.jsxs(j.div,{variants:d,children:[o.jsx("h2",{className:"text-lg font-semibold text-foreground mb-1",children:"How would you describe your role?"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"We'll personalize your experience based on your position."})]}),o.jsx(j.div,{variants:f,initial:"hidden",animate:"visible",className:"space-y-2 mb-6",children:l.map(u=>o.jsxs(j.label,{variants:d,whileHover:{scale:1.02},className:`relative flex items-start gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 group ${n===u.id?"border-primary bg-primary/8 shadow-md":"border-border/30 hover:border-primary/40 hover:bg-muted/40 bg-muted/20"}`,children:[o.jsx("div",{className:"flex-shrink-0 mt-1",children:o.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${n===u.id?"border-primary bg-primary":"border-border/50 group-hover:border-primary/50"}`,children:n===u.id&&o.jsx(j.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},children:o.jsx(Pt,{className:"w-3 h-3 text-background"})})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[o.jsx("span",{className:"text-base",children:u.icon}),o.jsx("span",{className:"font-medium text-foreground text-xs",children:u.label})]}),o.jsx("p",{className:"text-[10px] text-muted-foreground leading-tight",children:u.description})]}),o.jsx("input",{type:"radio",name:"role",value:u.id,checked:n===u.id,onChange:g=>r(g.target.value),className:"hidden"})]},u.id))}),o.jsxs(j.div,{variants:d,className:"space-y-2",children:[o.jsx(st,{variant:"primary",size:"lg",fullWidth:!0,onClick:c,disabled:!n||i,isLoading:i,className:"bg-primary hover:bg-primary/90 text-background disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg hover:shadow-xl transition-all",children:i?"Saving...":n?"Continue":"Select a role to continue"}),o.jsx("button",{onClick:t,disabled:i,className:"w-full py-3 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors rounded-lg hover:bg-muted/50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Skip for now"})]})]})]})]})})})}const W=["#4A9FBF","#FFB81C","#98C26E","#505050"];function on(){const{user:e,church:t}=le(),{branches:a,currentBranchId:n}=ct(),[r,i]=P.useState(!0),[s,l]=P.useState(0),[c,f]=P.useState(0),[d,u]=P.useState(null),[g,v]=P.useState(null),[A,y]=P.useState(!1),[m,h]=P.useState(!1),[w,k]=P.useState(!1),[S,D]=P.useState(null);P.useEffect(()=>{!e?.welcomeCompleted&&e&&y(!0)},[e]);const R=(x,_)=>{if(e&&t){const{setAuth:C}=le.getState();C({...e,welcomeCompleted:_,userRole:x},t,le.getState().accessToken||"",le.getState().refreshToken||"")}w||h(!0)},I=x=>{k(!0),me.success("Phone number configured successfully!")};P.useEffect(()=>{e&&(async()=>{try{await gt(),k(!0)}catch{k(!1)}})()},[e]),P.useEffect(()=>{N()},[n]);const N=async()=>{try{i(!0);try{const C=await pt();D(C)}catch(C){console.debug("Failed to load profile:",C)}if(n){const C=await mt(n);if(f(C.length),C.length>0){const ot=await ft(C[0].id,{limit:1});l(ot.pagination.total)}}const x=await ut();v(x);const _=await dt({days:7});u(_)}catch(x){console.error("Failed to load dashboard data:",x),me.error("Failed to load dashboard data")}finally{i(!1)}},M=a.length,T=g?.totalMessages||0,H=d?.deliveryRate||0,V=g?.totalGroups||0,$=d?.byDay?d.byDay.map(x=>({name:new Date(x.date).toLocaleDateString("en-US",{weekday:"short"}),delivered:x.delivered,failed:x.failed})):[],K=d?.byDay?d.byDay.map((x,_)=>({name:`Day ${_+1}`,sent:x.count,delivered:x.delivered})):[],U=[{name:"Delivered",value:d?.deliveredCount||0},{name:"Failed",value:d?.failedCount||0},{name:"Pending",value:d?.pendingCount||0}];return o.jsxs(o.Fragment,{children:[o.jsx(yt,{children:o.jsxs("div",{className:"px-4 md:px-8 py-8 w-full",children:[o.jsx("div",{className:"mb-8",children:o.jsx(Mr,{})}),o.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[o.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Welcome back, ",o.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:e?.firstName})]}),o.jsxs("p",{className:"text-muted-foreground mb-4",children:[t?.name," â€¢ ",new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]}),S&&o.jsx(j.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:o.jsx(Dr,{dlcStatus:S.dlcStatus,deliveryRate:S.deliveryRate,wantsPremiumDelivery:S.wantsPremiumDelivery,variant:"badge"})})]}),S?.dlcStatus==="shared_brand"&&o.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 border-l-4 border-green-500 bg-green-50 p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"ðŸš€ Ready for better SMS delivery?"}),o.jsx("p",{className:"text-xs text-gray-700 mt-1",children:"Upgrade to Premium 10DLC for 99% delivery rate. Visit your settings to enable it."})]}),o.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.hash="#/admin/settings",className:"text-xs font-semibold text-green-700 hover:text-green-800 whitespace-nowrap ml-4",children:"Upgrade â†’"})]})}),r?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx(j.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0},children:o.jsx(vt,{className:"w-8 h-8 text-primary"})})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(ue,{icon:wt,label:"Messages Sent",value:T.toLocaleString(),change:12,changeType:"positive",gradient:"from-primary to-accent",index:0}),o.jsx(ue,{icon:kt,label:"Total Members",value:s.toLocaleString(),change:8,changeType:"positive",gradient:"from-green-500 to-emerald-500",index:1}),o.jsx(ue,{icon:qt,label:"Delivery Rate",value:`${H.toFixed(1)}%`,change:-2,changeType:"negative",gradient:"from-purple-500 to-pink-500",index:2}),o.jsx(ue,{icon:zt,label:"Active Groups",value:V.toString(),change:5,changeType:"positive",gradient:"from-orange-500 to-red-500",index:3})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(ie,{variant:"gradient",index:0,children:[o.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Messages Overview"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Last 7 days delivery rate"}),$.length>0?o.jsx(je,{width:"100%",height:300,children:o.jsxs(Kt,{data:$,children:[o.jsx(Ce,{strokeDasharray:"3 3",stroke:"rgba(120,120,120,0.1)"}),o.jsx(Ee,{dataKey:"name",stroke:"rgba(120,120,120,0.5)"}),o.jsx(Ie,{stroke:"rgba(120,120,120,0.5)"}),o.jsx(Ae,{contentStyle:{backgroundColor:"rgba(20,20,30,0.95)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px"}}),o.jsx($e,{dataKey:"delivered",fill:W[0],radius:[8,8,0,0]}),o.jsx($e,{dataKey:"failed",fill:W[3],radius:[8,8,0,0]})]})}):o.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:"No data available"})]})}),o.jsx("div",{children:o.jsxs(ie,{variant:"gradient",index:1,children:[o.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Message Status"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Distribution"}),U.some(x=>x.value>0)?o.jsx(je,{width:"100%",height:300,children:o.jsxs($r,{children:[o.jsx(F,{data:U,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:U.map((x,_)=>o.jsx(rt,{fill:W[_%W.length]},`cell-${_}`))}),o.jsx(Ae,{contentStyle:{backgroundColor:"rgba(20,20,30,0.95)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px"}})]})}):o.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:"No data available"})]})})]}),o.jsx("div",{className:"mb-8",children:o.jsxs(ie,{variant:"gradient",index:2,children:[o.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Message Trends"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Sent vs Delivered over time"}),K.length>0?o.jsx(je,{width:"100%",height:350,children:o.jsxs(Wt,{data:K,children:[o.jsx(Ce,{strokeDasharray:"3 3",stroke:"rgba(120,120,120,0.1)"}),o.jsx(Ee,{dataKey:"name",stroke:"rgba(120,120,120,0.5)"}),o.jsx(Ie,{stroke:"rgba(120,120,120,0.5)"}),o.jsx(Ae,{contentStyle:{backgroundColor:"rgba(20,20,30,0.95)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px"}}),o.jsx(De,{type:"monotone",dataKey:"sent",stroke:W[0],strokeWidth:3,dot:{fill:W[0],r:5}}),o.jsx(De,{type:"monotone",dataKey:"delivered",stroke:W[1],strokeWidth:3,dot:{fill:W[1],r:5}})]})}):o.jsx("div",{className:"h-96 flex items-center justify-center text-muted-foreground",children:"No data available"})]})}),o.jsx(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:o.jsxs(ie,{variant:"default",index:3,children:[o.jsx("h3",{className:"text-lg font-bold text-foreground mb-6",children:"Quick Stats"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Branches",value:M},{label:"Groups",value:V},{label:"Members",value:s},{label:"Messages",value:T}].map((x,_)=>o.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:_*.1},className:"p-4 rounded-xl bg-muted/50 border border-border/40 text-center",children:[o.jsx("p",{className:"text-sm text-muted-foreground mb-2 font-medium",children:x.label}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:x.value})]},_))})]})})]})]})}),o.jsx(bt,{variant:"floating",position:"bottom-right"}),o.jsx(Fr,{isOpen:A,onClose:()=>y(!1),onWelcomeComplete:R}),o.jsx(ht,{isOpen:m,onClose:()=>h(!1),onPurchaseComplete:I})]})}export{on as DashboardPage,on as default};
//# sourceMappingURL=DashboardPage-BEer3erJ.js.map
