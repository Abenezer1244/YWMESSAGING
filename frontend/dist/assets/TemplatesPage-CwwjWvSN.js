import{r as s,_ as a,j as e,B as l,S as y,C as u}from"./index-A-meDFRm.js";import{g as N,T as w,d as C}from"./TemplateFormModal-D-lwAFba.js";import{B as T}from"./BackButton-2muUkwkx.js";import"./index.esm-D92jrIZi.js";function z(){const[r,c]=s.useState([]),[f,o]=s.useState(!0),[g,i]=s.useState(!1),[p,n]=s.useState(null);s.useEffect(()=>{m()},[]);const m=async()=>{try{o(!0);const t=await N();c(t)}catch(t){a.error(t.message||"Failed to load templates")}finally{o(!1)}},x=()=>{n(null),i(!0)},j=t=>{n(t),i(!0)},b=async(t,h)=>{if(h){a.error("Cannot delete default templates");return}if(window.confirm("Are you sure you want to delete this template?"))try{await C(t),c(r.filter(d=>d.id!==t)),a.success("Template deleted")}catch(d){a.error(d.message||"Failed to delete template")}},v=()=>{i(!1),n(null),m()},k=t=>({service_reminder:"Service Reminder",event:"Event",prayer:"Prayer",thank_you:"Thank You",welcome:"Welcome",offering:"Offering"})[t]||t;return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 p-6 transition-colors duration-normal",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsx(T,{variant:"ghost"})}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"ðŸ“‹ Message Templates"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"Reuse message templates to save time"})]}),e.jsx(l,{variant:"primary",size:"lg",onClick:x,children:"+ Create Template"})]}),f?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(y,{size:"lg",text:"Loading templates..."})}):r.length===0?e.jsxs(u,{variant:"highlight",className:"text-center py-16 bg-slate-50 dark:bg-slate-900/50 border-slate-300 dark:border-slate-700",children:[e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:"text-6xl",children:"ðŸ“‹"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:"No Templates Yet"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-6 max-w-md mx-auto",children:"Create templates to quickly send frequently used messages."}),e.jsx(l,{variant:"primary",size:"md",onClick:x,children:"Create First Template"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(t=>e.jsxs(u,{variant:"default",className:"hover:shadow-lg transition-shadow flex flex-col bg-slate-50 dark:bg-slate-900/50 border-slate-300 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:t.name}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 mt-1",children:k(t.category)})]}),t.isDefault&&e.jsx("span",{className:"inline-block px-2 py-1 bg-accent-500/20 text-accent-400 text-xs font-semibold rounded",children:"Default"})]}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm mb-4 flex-grow line-clamp-3",children:t.content}),e.jsx("div",{className:"flex justify-between items-center mb-4 pt-4 border-t border-slate-300 dark:border-slate-700",children:e.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:["Used ",t.usageCount," times"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{variant:"secondary",size:"sm",onClick:()=>j(t),fullWidth:!0,children:"Edit"}),e.jsx(l,{variant:"danger",size:"sm",onClick:()=>b(t.id,t.isDefault),disabled:t.isDefault,fullWidth:!0,children:"Delete"})]})]},t.id))})]}),g&&e.jsx(w,{template:p,onClose:v})]})}export{z as TemplatesPage,z as default};
//# sourceMappingURL=TemplatesPage-CwwjWvSN.js.map
