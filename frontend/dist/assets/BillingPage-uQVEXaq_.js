import{u as v,r as l,j as e,S as y,C as s,B as c,_ as o}from"./index-C_1TKi-h.js";import{a as w,c as C}from"./billing-DAXHeDCR.js";function S(){const m=v(),[a,g]=l.useState(null),[f,x]=l.useState(!0),[u,h]=l.useState(!1);l.useEffect(()=>{(async()=>{try{x(!0);const r=await w();g(r)}catch(r){o.error(r.message||"Failed to load billing info")}finally{x(!1)}})()},[]);const j=async()=>{if(confirm("Are you sure you want to cancel your subscription?"))try{h(!0),await C(),o.success("Subscription cancelled"),m("/dashboard")}catch(t){o.error(t.message||"Failed to cancel subscription")}finally{h(!1)}};if(f)return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-primary-50 dark:from-primary-950 dark:to-primary-900 p-6 transition-colors duration-normal",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(y,{size:"lg",text:"Loading billing information..."})})})});if(!a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-primary-50 dark:from-primary-950 dark:to-primary-900 p-6 transition-colors duration-normal",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs(s,{variant:"default",className:"text-center py-16 border border-neutral-200 dark:border-neutral-800",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-3",children:"Failed to Load Billing Information"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Please try refreshing the page or contact support if the issue persists."})]})})});const p={starter:"Starter",growth:"Growth",pro:"Pro"},N=(t,r)=>r>1e5?0:Math.round(t/r*100),k=t=>t>=90?"bg-danger-500":t>=70?"bg-warning-500":"bg-success-500",n=({label:t,used:r,limit:i})=>{const b=N(r,i),d=i>1e5;return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-white",children:t}),e.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[r," / ",d?"âˆž":i]})]}),!d&&e.jsx("div",{className:"w-full bg-neutral-200 dark:bg-neutral-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${k(b)}`,style:{width:`${Math.min(b,100)}%`}})}),d&&e.jsx("div",{className:"text-sm text-success-500 dark:text-success-400",children:"Unlimited"})]})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-white to-primary-50 dark:from-primary-950 dark:to-primary-900 p-6 transition-colors duration-normal",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-neutral-900 dark:text-white mb-2 tracking-tight",children:"ðŸ’³ Billing Settings"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Manage your subscription and view usage"})]}),e.jsxs(s,{variant:"default",className:"mb-8 border border-neutral-200 dark:border-neutral-800",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-6",children:"Current Plan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs(s,{variant:"default",className:"border border-accent-200 dark:border-accent-800 bg-accent-50 dark:bg-accent-950/30",children:[e.jsxs("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:[p[a.plan]," Plan"]}),e.jsxs("p",{className:"text-3xl font-bold text-accent-500 dark:text-accent-400 mt-2",children:["$",a.limits.price/100,e.jsx("span",{className:"text-lg text-neutral-600 dark:text-neutral-400",children:"/month"})]}),e.jsx(c,{variant:"primary",size:"md",onClick:()=>m("/subscribe"),className:"mt-4 w-full",children:"Change Plan"}),e.jsx(c,{variant:"outline",size:"md",onClick:j,disabled:u,className:"mt-2 w-full",children:u?"Cancelling...":"Cancel Subscription"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("h4",{className:"font-semibold text-neutral-900 dark:text-white mb-4",children:"Features included:"}),e.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.limits.features.map((t,r)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-success-500 flex-shrink-0 mt-0.5",children:"âœ“"}),e.jsx("span",{className:"text-neutral-700 dark:text-neutral-300",children:t})]},r))})]})]})]}),e.jsxs(s,{variant:"default",className:"mb-8 border border-neutral-200 dark:border-neutral-800",children:[e.jsxs("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-6",children:["Current Usage (",new Date().toLocaleDateString(),")"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-white mb-4",children:"Organization"}),e.jsx(n,{label:"Branches",used:a.usage.branches,limit:a.limits.branches}),e.jsx(n,{label:"Co-Admins",used:a.usage.coAdmins,limit:a.limits.coAdmins})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-neutral-900 dark:text-white mb-4",children:"Messaging"}),e.jsx(n,{label:"Members",used:a.usage.members,limit:a.limits.members}),e.jsx(n,{label:"Messages (This Month)",used:a.usage.messagesThisMonth,limit:a.limits.messagesPerMonth})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-8 pt-8 border-t border-neutral-200 dark:border-neutral-800",children:[e.jsxs(s,{variant:"default",className:"border border-neutral-200 dark:border-neutral-800 bg-accent-50 dark:bg-accent-950/30",children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Remaining Branches"}),e.jsx("p",{className:"text-2xl font-bold text-accent-500 dark:text-accent-400 mt-2",children:a.remaining.branches===999999?"âˆž":a.remaining.branches})]}),e.jsxs(s,{variant:"default",className:"border border-neutral-200 dark:border-neutral-800 bg-success-50 dark:bg-success-950/30",children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Remaining Members"}),e.jsx("p",{className:"text-2xl font-bold text-success-500 dark:text-success-400 mt-2",children:a.remaining.members===999999?"âˆž":a.remaining.members})]}),e.jsxs(s,{variant:"default",className:"border border-neutral-200 dark:border-neutral-800 bg-blue-50 dark:bg-blue-950/30",children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Remaining Messages"}),e.jsx("p",{className:"text-2xl font-bold text-blue-500 dark:text-blue-400 mt-2",children:a.remaining.messagesPerMonth===999999?"âˆž":a.remaining.messagesPerMonth})]}),e.jsxs(s,{variant:"default",className:"border border-neutral-200 dark:border-neutral-800 bg-amber-50 dark:bg-amber-950/30",children:[e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Remaining Co-Admins"}),e.jsx("p",{className:"text-2xl font-bold text-amber-500 dark:text-amber-400 mt-2",children:a.remaining.coAdmins===999999?"âˆž":a.remaining.coAdmins})]})]})]}),e.jsxs(s,{variant:"default",className:"border border-neutral-200 dark:border-neutral-800",children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900 dark:text-white mb-4",children:"Billing Information"}),e.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Your subscription is billed monthly. You can manage your payment method and invoices through Stripe."}),e.jsx(c,{variant:"primary",size:"md",className:"mt-4",children:"Manage in Stripe"})]})]})})}export{S as BillingPage,S as default};
//# sourceMappingURL=BillingPage-uQVEXaq_.js.map
