import{c as b,r as m,j as e,u as g,a as j,B as x,C as c}from"./index-A-meDFRm.js";import{g as f}from"./billing-Bpvxs363.js";function p(){const{branches:t,currentBranchId:r,allBranchesMode:l,setCurrentBranch:o,setAllBranchesMode:i}=b(),[d,n]=m.useState(!1),a=t.find(s=>s.id===r);return t.length===0?null:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>n(!d),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 transition",children:[e.jsx("span",{className:"text-sm font-medium",children:l?"All Branches":a?.name||"Select Branch"}),e.jsx("svg",{className:`w-4 h-4 transition-transform ${d?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]}),d&&e.jsx("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white border border-gray-300 rounded-lg shadow-lg z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsx("button",{onClick:()=>{i(!0),n(!1)},className:`w-full text-left px-4 py-2 rounded-lg transition ${l?"bg-blue-50 text-blue-600 font-medium":"hover:bg-gray-50"}`,children:"ðŸ“Š All Branches"}),e.jsx("div",{className:"border-t my-2"}),t.map(s=>e.jsx("button",{onClick:()=>{o(s.id),n(!1)},className:`w-full text-left px-4 py-2 rounded-lg transition ${r===s.id&&!l?"bg-blue-50 text-blue-600 font-medium":"hover:bg-gray-50"}`,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.groupCount," group",s.groupCount!==1?"s":""," â€¢ ",s.memberCount," member",s.memberCount!==1?"s":""]})]})},s.id))]})})]})}function N(){const[t,r]=m.useState(null),[l,o]=m.useState(!0);if(m.useEffect(()=>{(async()=>{try{o(!0);const h=await f();r(h)}catch(h){console.error("Failed to load trial status:",h)}finally{o(!1)}})()},[]),l||!t||!t.onTrial)return null;const i=t.daysRemaining,d=i<=3,n=i<=0;let a="bg-green-50 border-green-200",s="text-green-800",u="âœ“";return n?(a="bg-red-50 border-red-200",s="text-red-800",u="âš "):d&&(a="bg-yellow-50 border-yellow-200",s="text-yellow-800",u="!"),e.jsx("div",{className:`${a} border rounded-lg p-4 mb-6`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:`text-lg font-bold ${s}`,children:u}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold ${s}`,children:n?"Trial Expired":"Free Trial Active"}),e.jsx("p",{className:`text-sm ${s} mt-1`,children:n?"Your trial has expired. Please subscribe to continue using the platform.":i===1?"Your trial expires tomorrow. Subscribe now to keep your account active.":`${i} days remaining in your trial`}),!n&&e.jsx("button",{onClick:()=>window.location.href="/subscribe",className:"mt-2 text-sm font-semibold hover:underline",children:"View Plans â†’"})]})]})})}function y(){const t=g(),{user:r,church:l,logout:o}=j(),{currentBranchId:i}=b(),d=()=>{o(),t("/login")};l&&Math.ceil((new Date(l.trialEndsAt).getTime()-new Date().getTime())/(1e3*60*60*24));const n=[{label:"ðŸ“ Branches",action:()=>t("/branches"),always:!0},{label:"ðŸ‘¥ Groups",action:()=>t(`/branches/${i}/groups`),conditional:!0},{label:"ðŸ‘¤ Members",action:()=>t("/members?groupId="),conditional:!0},{label:"ðŸ“¨ Send Message",action:()=>t("/send-message"),conditional:!0},{label:"ðŸ“œ History",action:()=>t("/message-history"),conditional:!0},{label:"ðŸ“‹ Templates",action:()=>t("/templates"),conditional:!0},{label:"ðŸ”„ Recurring",action:()=>t("/recurring-messages"),conditional:!0},{label:"ðŸ“Š Analytics",action:()=>t("/analytics"),conditional:!0},{label:"ðŸ’³ Billing",action:()=>t("/billing"),always:!0},{label:"âš™ï¸ Settings",action:()=>t("/admin/settings"),always:!0}];return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 transition-colors duration-normal",children:[e.jsx("header",{className:"bg-slate-50 dark:bg-slate-900 shadow-sm border-b border-slate-200 dark:border-slate-700 transition-colors duration-normal",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-accent-500 rounded-lg flex items-center justify-center shadow-md",children:e.jsx("span",{className:"text-slate-950 font-bold text-base",children:"C"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Dashboard"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:l?.name})]})]}),e.jsx(x,{variant:"outline",size:"md",onClick:d,className:"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800",children:"Logout"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.map(a=>a.always||a.conditional&&i?e.jsx("button",{onClick:a.action,className:"px-4 py-2 text-slate-700 dark:text-slate-300 font-medium text-sm hover:bg-slate-200 dark:hover:bg-slate-800 rounded-lg transition-colors duration-normal border border-slate-300 dark:border-slate-700 hover:border-accent-400",children:a.label},a.label):null),e.jsx(p,{})]})]})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(N,{}),e.jsxs("div",{className:"mb-8 animate-fadeIn",children:[e.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-6 tracking-tight",children:["Welcome back, ",r?.firstName,"! ðŸ‘‹"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(c,{variant:"default",className:"border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-900/50 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-800 rounded-lg flex items-center justify-center text-2xl",children:"ðŸ‘¤"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"Your Account"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:e.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:[r?.firstName," ",r?.lastName]})}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:r?.email})}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:e.jsx("span",{className:"inline-block px-2 py-1 bg-accent-500/20 text-accent-400 rounded text-xs font-semibold",children:r?.role})})]})]})]})}),e.jsx(c,{variant:"default",className:"border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-900/50 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-slate-200 dark:bg-slate-800 rounded-lg flex items-center justify-center text-2xl",children:"â›ª"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-3",children:"Church Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:e.jsx("span",{className:"font-medium text-slate-900 dark:text-white",children:l?.name})}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:l?.email})}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300",children:["Trial ends ",e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:new Date(l?.trialEndsAt||"").toLocaleDateString()})]})]})]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(c,{variant:"default",className:"text-center border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-900/50 hover:shadow-md transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-200 dark:bg-slate-800 rounded-lg flex items-center justify-center mx-auto mb-4 text-3xl",children:"ðŸ“"}),e.jsx("div",{className:"text-4xl font-bold text-accent-400 mb-2",children:"0"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 font-medium mb-4",children:"Active Branches"}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>t("/branches"),fullWidth:!0,className:"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-800",children:"View Branches"})]}),e.jsxs(c,{variant:"default",className:"text-center border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-900/50 hover:shadow-md transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-200 dark:bg-slate-800 rounded-lg flex items-center justify-center mx-auto mb-4 text-3xl",children:"ðŸ‘¥"}),e.jsx("div",{className:"text-4xl font-bold text-accent-400 mb-2",children:"0"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 font-medium mb-4",children:"Total Members"}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>t("/members?groupId="),fullWidth:!0,className:"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-800",children:"Manage Members"})]}),e.jsxs(c,{variant:"default",className:"text-center border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-900/50 hover:shadow-md transition-all",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-200 dark:bg-slate-800 rounded-lg flex items-center justify-center mx-auto mb-4 text-3xl",children:"ðŸ“¨"}),e.jsx("div",{className:"text-4xl font-bold text-accent-400 mb-2",children:"0"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 font-medium mb-4",children:"Messages Sent"}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>t("/send-message"),fullWidth:!0,className:"border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-800",children:"Send Message"})]})]}),e.jsxs(c,{variant:"default",className:"border border-slate-300 dark:border-slate-700 bg-slate-100 dark:bg-slate-900/50",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6",children:"âœ¨ Key Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{icon:"ðŸ“",title:"Multi-Branch",desc:"Manage multiple church locations"},{icon:"ðŸ‘¥",title:"Groups & Members",desc:"Organize and segment your congregation"},{icon:"ðŸ“¨",title:"SMS Messaging",desc:"Send direct messages to members"},{icon:"ðŸ“‹",title:"Templates",desc:"Reuse pre-built message templates"},{icon:"ðŸ”„",title:"Recurring Messages",desc:"Automate regular communications"},{icon:"ðŸ“Š",title:"Analytics",desc:"Track engagement and delivery rates"}].map((a,s)=>e.jsxs("div",{className:"p-4 bg-slate-200 dark:bg-slate-800/50 border border-slate-300 dark:border-slate-700 rounded-lg hover:shadow-md transition-all",children:[e.jsx("div",{className:"text-3xl mb-3",children:a.icon}),e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:a.desc})]},s))})]})]})]})}export{y as DashboardPage,y as default};
//# sourceMappingURL=DashboardPage-D-hD7bRX.js.map
