import{u as N,a as w,r as m,f as j,j as e,C as v,I as l,B as k,L as y,_ as o,c as C}from"./index-BIpL1vD1.js";import{u as R}from"./index.esm-LPrYbxtq.js";function P(){const h=N(),{setAuth:x}=w(),[r,n]=m.useState(!1);m.useEffect(()=>{j().catch(()=>{console.warn("Failed to fetch CSRF token, registration may fail")})},[]);const{register:s,handleSubmit:g,watch:f,formState:{errors:t}}=R({defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",churchName:""}});f("password");const p=async a=>{if(a.password!==a.confirmPassword){o.error("Passwords do not match");return}n(!0);try{const d=await C({email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName,churchName:a.churchName}),{admin:i,church:c,accessToken:u,refreshToken:b}=d.data;console.log("Registration successful, setting auth:",{admin:i,church:c,accessToken:u?"present":"missing"}),x(i,c,u,b),o.success("Registration successful!"),setTimeout(()=>{console.log("Navigating to dashboard"),h("/dashboard",{replace:!0})},100)}catch(d){const i=d.response?.data?.error||"Registration failed. Please try again.";o.error(i),n(!1)}};return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-neutral-950 flex items-center justify-center p-4 py-8 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary-500 opacity-5 rounded-full blur-3xl pointer-events-none"}),e.jsxs("div",{className:"w-full max-w-2xl relative z-10 animate-fadeIn",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsx("div",{className:"w-14 h-14 bg-primary-500 rounded-xl flex items-center justify-center shadow-md hover:shadow-lg transition-shadow",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:"YW"})})}),e.jsx("h1",{className:"text-4xl font-bold text-neutral-900 dark:text-white mb-3 tracking-tight",children:"Create Your Account"}),e.jsx("p",{className:"text-lg text-neutral-600 dark:text-neutral-400 font-light",children:"Start your 14-day free trial • No credit card required"})]}),e.jsxs(v,{variant:"default",className:"p-8 border border-neutral-200 dark:border-neutral-800 shadow-lg",children:[e.jsxs("form",{onSubmit:g(p),className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(l,{label:"First Name",placeholder:"John",disabled:r,error:t.firstName?.message,className:"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",...s("firstName",{required:"First name is required"})}),e.jsx(l,{label:"Last Name",placeholder:"Doe",disabled:r,error:t.lastName?.message,className:"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",...s("lastName",{required:"Last name is required"})})]}),e.jsx(l,{label:"Church Name",placeholder:"Grace Community Church",disabled:r,error:t.churchName?.message,className:"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",...s("churchName",{required:"Church name is required"})}),e.jsx(l,{label:"Email Address",type:"email",placeholder:"pastor@church.com",disabled:r,error:t.email?.message,className:"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",...s("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email format"}})}),e.jsx(l,{label:"Password",type:"password",placeholder:"••••••••",helperText:"Must be at least 8 characters",disabled:r,error:t.password?.message,className:"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",...s("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}})}),e.jsx(l,{label:"Confirm Password",type:"password",placeholder:"••••••••",disabled:r,error:t.confirmPassword?.message,className:"bg-white dark:bg-neutral-900 border-neutral-300 dark:border-neutral-700",...s("confirmPassword",{required:"Please confirm your password"})}),e.jsx(k,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,isLoading:r,disabled:r,className:"font-semibold mt-6",children:r?"Creating account...":"Create Account"})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-neutral-200 dark:border-neutral-800",children:e.jsxs("p",{className:"text-center text-neutral-600 dark:text-neutral-400 text-sm",children:["Already have an account?"," ",e.jsx(y,{to:"/login",className:"text-primary-500 hover:text-primary-600 dark:text-primary-400 dark:hover:text-primary-300 font-semibold transition-colors",children:"Login here"})]})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-success-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 font-medium",children:"Setup in Minutes"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-success-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 font-medium",children:"Secure & Reliable"})]}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-success-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 font-medium",children:"No Card Required"})]})]})]})]})}export{P as RegisterPage,P as default};
//# sourceMappingURL=RegisterPage-p4gaUDOy.js.map
