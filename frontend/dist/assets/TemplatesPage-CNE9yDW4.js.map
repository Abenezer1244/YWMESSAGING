{"version":3,"file":"TemplatesPage-CNE9yDW4.js","sources":["../../src/pages/dashboard/TemplatesPage.js"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect, useState } from 'react';\nimport toast from 'react-hot-toast';\nimport { getTemplates, deleteTemplate } from '../../api/templates';\nimport TemplateFormModal from '../../components/templates/TemplateFormModal';\nimport Button from '../../components/ui/Button';\nimport Card from '../../components/ui/Card';\nimport { Spinner } from '../../components/ui';\nexport function TemplatesPage() {\n    const [templates, setTemplates] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [showModal, setShowModal] = useState(false);\n    const [editingTemplate, setEditingTemplate] = useState(null);\n    useEffect(() => {\n        loadTemplates();\n    }, []);\n    const loadTemplates = async () => {\n        try {\n            setIsLoading(true);\n            const data = await getTemplates();\n            setTemplates(data);\n        }\n        catch (error) {\n            toast.error(error.message || 'Failed to load templates');\n        }\n        finally {\n            setIsLoading(false);\n        }\n    };\n    const handleCreate = () => {\n        setEditingTemplate(null);\n        setShowModal(true);\n    };\n    const handleEdit = (template) => {\n        setEditingTemplate(template);\n        setShowModal(true);\n    };\n    const handleDelete = async (templateId, isDefault) => {\n        if (isDefault) {\n            toast.error('Cannot delete default templates');\n            return;\n        }\n        if (!window.confirm('Are you sure you want to delete this template?')) {\n            return;\n        }\n        try {\n            await deleteTemplate(templateId);\n            setTemplates(templates.filter((t) => t.id !== templateId));\n            toast.success('Template deleted');\n        }\n        catch (error) {\n            toast.error(error.message || 'Failed to delete template');\n        }\n    };\n    const handleModalClose = () => {\n        setShowModal(false);\n        setEditingTemplate(null);\n        loadTemplates();\n    };\n    const getCategoryLabel = (category) => {\n        const labels = {\n            service_reminder: 'Service Reminder',\n            event: 'Event',\n            prayer: 'Prayer',\n            thank_you: 'Thank You',\n            welcome: 'Welcome',\n            offering: 'Offering',\n        };\n        return labels[category] || category;\n    };\n    return (_jsxs(\"div\", { className: \"min-h-screen bg-gradient-to-br from-secondary-50 dark:from-secondary-900 to-secondary-100 dark:to-secondary-950 p-6 transition-colors duration-normal\", children: [_jsxs(\"div\", { className: \"max-w-7xl mx-auto\", children: [_jsxs(\"div\", { className: \"flex items-center justify-between mb-8\", children: [_jsxs(\"div\", { children: [_jsx(\"h1\", { className: \"text-4xl font-bold text-secondary-900 dark:text-secondary-50 mb-2\", children: \"\\uD83D\\uDCCB Message Templates\" }), _jsx(\"p\", { className: \"text-secondary-600 dark:text-secondary-400\", children: \"Reuse message templates to save time\" })] }), _jsx(Button, { variant: \"primary\", size: \"lg\", onClick: handleCreate, children: \"+ Create Template\" })] }), isLoading ? (_jsx(\"div\", { className: \"flex items-center justify-center py-20\", children: _jsx(Spinner, { size: \"lg\", text: \"Loading templates...\" }) })) : templates.length === 0 ? (_jsxs(Card, { variant: \"highlight\", className: \"text-center py-16\", children: [_jsx(\"div\", { className: \"mb-6\", children: _jsx(\"span\", { className: \"text-6xl\", children: \"\\uD83D\\uDCCB\" }) }), _jsx(\"h2\", { className: \"text-2xl font-bold text-secondary-900 dark:text-secondary-50 mb-3\", children: \"No Templates Yet\" }), _jsx(\"p\", { className: \"text-secondary-600 dark:text-secondary-400 mb-6 max-w-md mx-auto\", children: \"Create templates to quickly send frequently used messages.\" }), _jsx(Button, { variant: \"primary\", size: \"md\", onClick: handleCreate, children: \"Create First Template\" })] })) : (_jsx(\"div\", { className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\", children: templates.map((template) => (_jsxs(Card, { variant: \"default\", className: \"hover:shadow-lg transition-shadow flex flex-col\", children: [_jsxs(\"div\", { className: \"flex items-start justify-between mb-3\", children: [_jsxs(\"div\", { children: [_jsx(\"h3\", { className: \"text-lg font-semibold text-secondary-900 dark:text-secondary-50\", children: template.name }), _jsx(\"p\", { className: \"text-sm text-secondary-600 dark:text-secondary-400 mt-1\", children: getCategoryLabel(template.category) })] }), template.isDefault && (_jsx(\"span\", { className: \"inline-block px-2 py-1 bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 text-xs font-semibold rounded\", children: \"Default\" }))] }), _jsx(\"p\", { className: \"text-secondary-700 dark:text-secondary-300 text-sm mb-4 flex-grow line-clamp-3\", children: template.content }), _jsx(\"div\", { className: \"flex justify-between items-center mb-4 pt-4 border-t border-secondary-200 dark:border-secondary-700\", children: _jsxs(\"p\", { className: \"text-xs text-secondary-600 dark:text-secondary-400\", children: [\"Used \", template.usageCount, \" times\"] }) }), _jsxs(\"div\", { className: \"flex gap-2\", children: [_jsx(Button, { variant: \"secondary\", size: \"sm\", onClick: () => handleEdit(template), fullWidth: true, children: \"Edit\" }), _jsx(Button, { variant: \"danger\", size: \"sm\", onClick: () => handleDelete(template.id, template.isDefault), disabled: template.isDefault, fullWidth: true, children: \"Delete\" })] })] }, template.id))) }))] }), showModal && (_jsx(TemplateFormModal, { template: editingTemplate, onClose: handleModalClose }))] }));\n}\nexport default TemplatesPage;\n//# sourceMappingURL=TemplatesPage.js.map"],"names":["TemplatesPage","templates","setTemplates","useState","isLoading","setIsLoading","showModal","setShowModal","editingTemplate","setEditingTemplate","useEffect","loadTemplates","data","getTemplates","error","toast","handleCreate","handleEdit","template","handleDelete","templateId","isDefault","deleteTemplate","t","handleModalClose","getCategoryLabel","category","_jsxs","_jsx","Button","Spinner","Card","TemplateFormModal"],"mappings":"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"}