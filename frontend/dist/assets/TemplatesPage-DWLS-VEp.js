import{r as s,_ as r,j as e}from"./index-4-8mD7M-.js";import{g as T,T as C,d as S}from"./TemplateFormModal-6n6itBLn.js";import{a as k,L as E,S as p}from"./SoftLayout-DXYgxu0e.js";import{S as i}from"./SoftButton-B1sTO0eR.js";import{m as c}from"./proxy-suG91atR.js";import{P as h,S as D}from"./square-pen-CAP_LiTq.js";import{F}from"./index-BmpBAzW7.js";import{T as L}from"./trash-2-okLs4RG5.js";import"./index.esm-BY6_zQxw.js";function B(){const[l,m]=s.useState([]),[g,x]=s.useState(!0),[j,n]=s.useState(!1),[y,o]=s.useState(null);s.useEffect(()=>{u()},[]);const u=async()=>{try{x(!0);const t=await T();m(t)}catch(t){r.error(t.message||"Failed to load templates")}finally{x(!1)}},f=()=>{o(null),n(!0)},N=t=>{o(t),n(!0)},b=async(t,a)=>{if(a){r.error("Cannot delete default templates");return}if(window.confirm("Are you sure you want to delete this template?"))try{await S(t),m(l.filter(d=>d.id!==t)),r.success("Template deleted")}catch(d){r.error(d.message||"Failed to delete template")}},v=()=>{n(!1),o(null),u()},w=t=>({service_reminder:"Service Reminder",event:"Event",prayer:"Prayer",thank_you:"Thank You",welcome:"Welcome",offering:"Offering"})[t]||t;return e.jsxs(k,{children:[e.jsxs("div",{className:"px-4 md:px-8 py-8 w-full",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:e.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Message Templates"})}),e.jsx("p",{className:"text-muted-foreground",children:"Reuse message templates to save time"})]}),e.jsx(i,{variant:"primary",size:"lg",onClick:f,icon:e.jsx(h,{className:"w-5 h-5"}),children:"Create Template"})]}),g?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx(c.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:e.jsx(E,{className:"w-8 h-8 text-primary"})})}):l.length===0?e.jsx(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},children:e.jsxs(p,{variant:"gradient",className:"text-center py-16",children:[e.jsx("div",{className:"mb-6",children:e.jsx(F,{className:"w-16 h-16 mx-auto text-muted-foreground"})}),e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3",children:"No Templates Yet"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:"Create templates to quickly send frequently used messages."}),e.jsx(i,{variant:"primary",size:"md",onClick:f,icon:e.jsx(h,{className:"w-4 h-4"}),children:"Create First Template"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((t,a)=>e.jsxs(p,{index:a,className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:t.name}),e.jsx("p",{className:"text-sm text-foreground/80 mt-1",children:w(t.category)})]}),t.isDefault&&e.jsx("span",{className:"inline-block px-2 py-1 bg-primary/20 text-primary text-xs font-semibold rounded",children:"Default"})]}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4 flex-grow line-clamp-3",children:t.content}),e.jsx("div",{className:"flex justify-between items-center mb-4 pt-4 border-t border-border/40",children:e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Used ",t.usageCount," times"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{variant:"secondary",size:"sm",onClick:()=>N(t),fullWidth:!0,icon:e.jsx(D,{className:"w-3 h-3"}),children:"Edit"}),e.jsx(i,{variant:"danger",size:"sm",onClick:()=>b(t.id,t.isDefault),disabled:t.isDefault,fullWidth:!0,icon:e.jsx(L,{className:"w-3 h-3"}),children:"Delete"})]})]},t.id))})]}),j&&e.jsx(C,{template:y,onClose:v})]})}export{B as TemplatesPage,B as default};
//# sourceMappingURL=TemplatesPage-DWLS-VEp.js.map
