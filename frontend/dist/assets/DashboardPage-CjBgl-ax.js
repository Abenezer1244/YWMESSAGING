import{R as m,g as ze,r as w,j as c,a as at,c as it,_ as ot}from"./index-Dqt43-1K.js";import{c as Ue,f as O,r as He,a as st,b as Ze,d as ct,i as G,T as ke,p as I,L as E,e as Pe,g as Ye,D as lt,u as ut,C as dt,h as U,j as M,S as ft,A as pt,k as mt,l as _e,m as ht,n as q,o as vt,G as yt,q as oe,s as gt,t as Xe,v as bt,w as ae,x as we,y as xt,z as At,B as jt,E as kt,R as he,F as Pt,H as Te,X as Re,Y as Ee,I as ve,J as Ne,K as Ot,M as Le}from"./analytics-D7Cm6gcG.js";import{g as St}from"./members-CtRev-gh.js";import{g as _t}from"./groups-CRlQYPeR.js";import{S as J,a as wt,L as Tt}from"./SoftLayout-DKq3KgHa.js";import{c as Je,m as Q,U as Rt}from"./proxy-DUSIY0-W.js";import{g as Et}from"./billing-DCxfRvfN.js";import{S as Nt}from"./send-sGBYshX9.js";import"./index-DiqxKOGU.js";/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],It=Je("activity",Lt);/**
 * @license lucide-react v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Dt=Je("trending-up",$t);var Ct=["points","className","baseLinePoints","connectNulls"];function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},W.apply(this,arguments)}function Bt(e,t){if(e==null)return{};var a=Ft(e,t),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ft(e,t){if(e==null)return{};var a={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}function Ie(e){return Gt(e)||Vt(e)||Mt(e)||Kt()}function Kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mt(e,t){if(e){if(typeof e=="string")return be(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return be(e,t)}}function Vt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gt(e){if(Array.isArray(e))return be(e)}function be(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var $e=function(t){return t&&t.x===+t.x&&t.y===+t.y},qt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return t.forEach(function(n){$e(n)?a[a.length-1].push(n):a[a.length-1].length>0&&a.push([])}),$e(t[0])&&a[a.length-1].push(t[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},ee=function(t,a){var n=qt(t);a&&(n=[n.reduce(function(i,o){return[].concat(Ie(i),Ie(o))},[])]);var r=n.map(function(i){return i.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(r,"Z"):r},Wt=function(t,a,n){var r=ee(t,n);return"".concat(r.slice(-1)==="Z"?r.slice(0,-1):r,"L").concat(ee(a.reverse(),n).slice(1))},zt=function(t){var a=t.points,n=t.className,r=t.baseLinePoints,i=t.connectNulls,o=Bt(t,Ct);if(!a||!a.length)return null;var s=Ue("recharts-polygon",n);if(r&&r.length){var l=o.stroke&&o.stroke!=="none",u=Wt(a,r,i);return m.createElement("g",{className:s},m.createElement("path",W({},O(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?m.createElement("path",W({},O(o,!0),{fill:"none",d:ee(a,i)})):null,l?m.createElement("path",W({},O(o,!0),{fill:"none",d:ee(r,i)})):null)}var d=ee(a,i);return m.createElement("path",W({},O(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))},ye,De;function Ut(){if(De)return ye;De=1;var e=He(),t=st(),a=Ze();function n(r,i){return r&&r.length?e(r,a(i,2),t):void 0}return ye=n,ye}var Ht=Ut();const Zt=ze(Ht);var ge,Ce;function Yt(){if(Ce)return ge;Ce=1;var e=He(),t=Ze(),a=ct();function n(r,i){return r&&r.length?e(r,t(i,2),a):void 0}return ge=n,ge}var Xt=Yt();const Jt=ze(Xt);var Qt=["cx","cy","angle","ticks","axisLine"],er=["ticks","tick","angle","tickFormatter","stroke"];function H(e){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(e)}function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},te.apply(this,arguments)}function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Be(Object(a),!0).forEach(function(n){de(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function Fe(e,t){if(e==null)return{};var a=tr(e,t),n,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tr(e,t){if(e==null)return{};var a={},n=Object.keys(e),r,i;for(i=0;i<n.length;i++)r=n[i],!(t.indexOf(r)>=0)&&(a[r]=e[r]);return a}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qe(n.key),n)}}function nr(e,t,a){return t&&Ke(e.prototype,t),a&&Ke(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function ar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xe(e,t)}function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xe(e,t)}function ir(e){var t=cr();return function(){var n=ce(e),r;if(t){var i=ce(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return or(this,r)}}function or(e,t){if(t&&(H(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sr(e)}function sr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ce(e){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ce(e)}function de(e,t,a){return t=Qe(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Qe(e){var t=lr(e,"string");return H(t)==="symbol"?t:String(t)}function lr(e,t){if(H(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(H(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fe=(function(e){ar(a,e);var t=ir(a);function a(){return rr(this,a),t.apply(this,arguments)}return nr(a,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,l=o.cx,u=o.cy;return I(l,u,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,l=r.ticks,u=Zt(l,function(p){return p.coordinate||0}),d=Jt(l,function(p){return p.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:d.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,l=r.ticks,u=r.axisLine,d=Fe(r,Qt),p=l.reduce(function(g,f){return[Math.min(g[0],f.coordinate),Math.max(g[1],f.coordinate)]},[1/0,-1/0]),y=I(i,o,p[0],s),b=I(i,o,p[1],s),A=B(B(B({},O(d)),{},{fill:"none"},O(u)),{},{x1:y.x,y1:y.y,x2:b.x,y2:b.y});return m.createElement("line",te({className:"recharts-polar-radius-axis-line"},A))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,l=i.angle,u=i.tickFormatter,d=i.stroke,p=Fe(i,er),y=this.getTickTextAnchor(),b=O(p),A=O(s),g=o.map(function(f,h){var j=r.getTickValueCoord(f),k=B(B(B(B({textAnchor:y,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},b),{},{stroke:"none",fill:d},A),{},{index:h},j),{},{payload:f});return m.createElement(E,te({className:"recharts-polar-radius-axis-tick",key:"tick-".concat(h)},Pe(r.props,f,h)),a.renderTickItem(s,k,u?u(f.value,h):f.value))});return m.createElement(E,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:m.createElement(E,{className:"recharts-polar-radius-axis"},o&&this.renderAxisLine(),s&&this.renderTicks(),Ye.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return m.isValidElement(r)?s=m.cloneElement(r,i):G(r)?s=r(i):s=m.createElement(ke,te({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}]),a})(w.PureComponent);de(fe,"displayName","PolarRadiusAxis");de(fe,"axisType","radiusAxis");de(fe,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Z(e){"@babel/helpers - typeof";return Z=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(e)}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},K.apply(this,arguments)}function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Me(Object(a),!0).forEach(function(n){pe(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,et(n.key),n)}}function dr(e,t,a){return t&&Ve(e.prototype,t),a&&Ve(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function fr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ae(e,t)}function Ae(e,t){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ae(e,t)}function pr(e){var t=vr();return function(){var n=le(e),r;if(t){var i=le(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return mr(this,r)}}function mr(e,t){if(t&&(Z(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hr(e)}function hr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},le(e)}function pe(e,t,a){return t=et(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function et(e){var t=yr(e,"string");return Z(t)==="symbol"?t:String(t)}function yr(e,t){if(Z(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Z(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gr=Math.PI/180,Ge=1e-5,me=(function(e){fr(a,e);var t=pr(a);function a(){return ur(this,a),t.apply(this,arguments)}return dr(a,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,l=i.radius,u=i.orientation,d=i.tickSize,p=d||8,y=I(o,s,l,r.coordinate),b=I(o,s,l+(u==="inner"?-1:1)*p,r.coordinate);return{x1:y.x,y1:y.y,x2:b.x,y2:b.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*gr),s;return o>Ge?s=i==="outer"?"start":"end":o<-Ge?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,l=r.axisLine,u=r.axisLineType,d=F(F({},O(this.props)),{},{fill:"none"},O(l));if(u==="circle")return m.createElement(lt,K({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:o,r:s}));var p=this.props.ticks,y=p.map(function(b){return I(i,o,s,b.coordinate)});return m.createElement(zt,K({className:"recharts-polar-angle-axis-line"},d,{points:y}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,l=i.tickLine,u=i.tickFormatter,d=i.stroke,p=O(this.props),y=O(s),b=F(F({},p),{},{fill:"none"},O(l)),A=o.map(function(g,f){var h=r.getTickLineCoord(g),j=r.getTickTextAnchor(g),k=F(F(F({textAnchor:j},p),{},{stroke:"none",fill:d},y),{},{index:f,payload:g,x:h.x2,y:h.y2});return m.createElement(E,K({className:"recharts-polar-angle-axis-tick",key:"tick-".concat(f)},Pe(r.props,g,f)),l&&m.createElement("line",K({className:"recharts-polar-angle-axis-tick-line"},b,h)),s&&a.renderTickItem(s,k,u?u(g.value,f):g.value))});return m.createElement(E,{className:"recharts-polar-angle-axis-ticks"},A)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:m.createElement(E,{className:"recharts-polar-angle-axis"},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return m.isValidElement(r)?s=m.cloneElement(r,i):G(r)?s=r(i):s=m.createElement(ke,K({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}]),a})(w.PureComponent);pe(me,"displayName","PolarAngleAxis");pe(me,"axisType","angleAxis");pe(me,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var se;function Y(e){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(e)}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},z.apply(this,arguments)}function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?qe(Object(a),!0).forEach(function(n){T(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function We(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tt(n.key),n)}}function xr(e,t,a){return t&&We(e.prototype,t),a&&We(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ar(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t)}function je(e,t){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},je(e,t)}function jr(e){var t=Pr();return function(){var n=ue(e),r;if(t){var i=ue(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return kr(this,r)}}function kr(e,t){if(t&&(Y(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(e)}function V(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ue(e)}function T(e,t,a){return t=tt(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tt(e){var t=Or(e,"string");return Y(t)==="symbol"?t:String(t)}function Or(e,t){if(Y(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(Y(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $=(function(e){Ar(a,e);var t=jr(a);function a(n){var r;return br(this,a),r=t.call(this,n),T(V(r),"pieRef",null),T(V(r),"sectorRefs",[]),T(V(r),"id",ut("recharts-pie-")),T(V(r),"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),G(i)&&i()}),T(V(r),"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),G(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return xr(a,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,l=o.labelLine,u=o.dataKey,d=o.valueKey,p=O(this.props),y=O(s),b=O(l),A=s&&s.offsetRadius||20,g=r.map(function(f,h){var j=(f.startAngle+f.endAngle)/2,k=I(f.cx,f.cy,f.outerRadius+A,j),_=x(x(x(x({},p),f),{},{stroke:"none"},y),{},{index:h,textAnchor:a.getTextAnchor(k.x,f.cx)},k),R=x(x(x(x({},p),f),{},{fill:"none",stroke:f.fill},b),{},{index:h,points:[I(f.cx,f.cy,f.outerRadius,j),k],key:"line"}),v=u;return U(u)&&U(d)?v="value":U(u)&&(v=d),m.createElement(E,{key:"label-".concat(h)},l&&a.renderLabelLineItem(l,R),a.renderLabelItem(s,_,M(f,v)))});return m.createElement(E,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,l=o.blendStroke,u=o.inactiveShape;return r.map(function(d,p){var y=i.isActiveIndex(p),b=u&&i.hasActiveIndex()?u:null,A=y?s:b,g=x(x({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return m.createElement(E,z({ref:function(h){h&&!i.sectorRefs.includes(h)&&i.sectorRefs.push(h)},tabIndex:-1,className:"recharts-pie-sector"},Pe(i.props,d,p),{key:"sector-".concat(p)}),m.createElement(ft,z({option:A,isActive:y,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,p=i.animationId,y=this.state,b=y.prevSectors,A=y.prevIsAnimationActive;return m.createElement(pt,{begin:l,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(A),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var f=g.t,h=[],j=o&&o[0],k=j.startAngle;return o.forEach(function(_,R){var v=b&&b[R],P=R>0?mt(_,"paddingAngle",0):0;if(v){var S=_e(v.endAngle-v.startAngle,_.endAngle-_.startAngle),L=x(x({},_),{},{startAngle:k+P,endAngle:k+S(f)+P});h.push(L),k=L.endAngle}else{var N=_.endAngle,re=_.startAngle,ne=_e(0,N-re),C=ne(f),X=x(x({},_),{},{startAngle:k+P,endAngle:k+C+P});h.push(X),k=X.endAngle}}),m.createElement(E,null,r.renderSectorsStatically(h))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!ht(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,l=i.className,u=i.label,d=i.cx,p=i.cy,y=i.innerRadius,b=i.outerRadius,A=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!s||!s.length||!q(d)||!q(p)||!q(y)||!q(b))return null;var f=Ue("recharts-pie",l);return m.createElement(E,{tabIndex:this.props.rootTabIndex,className:f,ref:function(j){r.pieRef=j}},this.renderSectors(),u&&this.renderLabels(s),Ye.renderCallByParent(this.props,null,!1),(!A||g)&&vt.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i){return m.isValidElement(r)?m.cloneElement(r,i):G(r)?r(i):m.createElement(dt,z({},i,{type:"linear",className:"recharts-pie-label-line"}))}},{key:"renderLabelItem",value:function(r,i,o){if(m.isValidElement(r))return m.cloneElement(r,i);var s=o;return G(r)&&(s=r(i),m.isValidElement(s))?s:m.createElement(ke,z({},i,{alignmentBaseline:"middle",className:"recharts-pie-label-text"}),s)}}]),a})(w.PureComponent);se=$;T($,"displayName","Pie");T($,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!yt.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});T($,"parseDeltaAngle",function(e,t){var a=oe(t-e),n=Math.min(Math.abs(t-e),360);return a*n});T($,"getRealPieData",function(e){var t=e.props,a=t.data,n=t.children,r=O(e.props),i=gt(n,Xe);return a&&a.length?a.map(function(o,s){return x(x(x({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return x(x({},r),o.props)}):[]});T($,"parseCoordinateOfPie",function(e,t){var a=t.top,n=t.left,r=t.width,i=t.height,o=bt(r,i),s=n+ae(e.props.cx,r,r/2),l=a+ae(e.props.cy,i,i/2),u=ae(e.props.innerRadius,o,0),d=ae(e.props.outerRadius,o,o*.8),p=e.props.maxRadius||Math.sqrt(r*r+i*i)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:d,maxRadius:p}});T($,"getComposedData",function(e){var t=e.item,a=e.offset,n=se.getRealPieData(t);if(!n||!n.length)return null;var r=t.props,i=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,d=r.nameKey,p=r.valueKey,y=r.tooltipType,b=Math.abs(t.props.minAngle),A=se.parseCoordinateOfPie(t,a),g=se.parseDeltaAngle(o,s),f=Math.abs(g),h=u;U(u)&&U(p)?(we(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),h="value"):U(u)&&(we(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),h=p);var j=n.filter(function(S){return M(S,h,0)!==0}).length,k=(f>=360?j:j-1)*l,_=f-j*b-k,R=n.reduce(function(S,L){var N=M(L,h,0);return S+(q(N)?N:0)},0),v;if(R>0){var P;v=n.map(function(S,L){var N=M(S,h,0),re=M(S,d,L),ne=(q(N)?N:0)/R,C;L?C=P.endAngle+oe(g)*l*(N!==0?1:0):C=o;var X=C+oe(g)*((N!==0?b:0)+ne*_),Oe=(C+X)/2,Se=(A.innerRadius+A.outerRadius)/2,rt=[{name:re,value:N,payload:S,dataKey:h,type:y}],nt=I(A.cx,A.cy,Se,Oe);return P=x(x(x({percent:ne,cornerRadius:i,name:re,tooltipPayload:rt,midAngle:Oe,middleRadius:Se,tooltipPosition:nt},S),A),{},{value:M(S,h),startAngle:C,endAngle:X,payload:S,paddingAngle:oe(g)*l}),P})}return x(x({},A),{},{sectors:v,data:n})});var Sr=xt({chartName:"PieChart",GraphicalChild:$,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:me},{axisType:"radiusAxis",AxisComp:fe}],formatAxisMap:At,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function ie({icon:e,label:t,value:a,change:n,changeType:r="neutral",gradient:i="from-blue-500 to-cyan-500",index:o=0}){const s=r==="positive"?"text-green-400":r==="negative"?"text-red-400":"text-muted-foreground",l=n!==void 0&&n>0?"+":"";return c.jsxs(J,{variant:"gradient",index:o,children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx(Q.div,{animate:{scale:[1,1.05,1]},transition:{duration:3,repeat:1/0},className:`bg-gradient-to-br ${i} rounded-xl p-3 shadow-lg`,children:c.jsx(e,{className:"w-6 h-6 text-white"})}),n!==void 0&&c.jsxs("div",{className:`text-sm font-bold ${s}`,children:[l,n,"%"]})]}),c.jsx("p",{className:"text-muted-foreground text-sm font-medium mb-2",children:t}),c.jsx("p",{className:"text-3xl font-bold text-foreground",children:a})]})}function _r(){const[e,t]=w.useState(null),[a,n]=w.useState(!0);if(w.useEffect(()=>{(async()=>{try{n(!0);const p=await Et();t(p)}catch(p){console.error("Failed to load trial status:",p)}finally{n(!1)}})()},[]),a||!e||!e.onTrial)return null;const r=e.daysRemaining,i=r<=3,o=r<=0;let s="bg-green-50 border-green-200",l="text-green-800",u="✓";return o?(s="bg-red-50 border-red-200",l="text-red-800",u="⚠"):i&&(s="bg-yellow-50 border-yellow-200",l="text-yellow-800",u="!"),c.jsx("div",{className:`${s} border rounded-lg p-4 mb-6`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:`text-lg font-bold ${l}`,children:u}),c.jsxs("div",{children:[c.jsx("h3",{className:`font-semibold ${l}`,children:o?"Trial Expired":"Free Trial Active"}),c.jsx("p",{className:`text-sm ${l} mt-1`,children:o?"Your trial has expired. Please subscribe to continue using the platform.":r===1?"Your trial expires tomorrow. Subscribe now to keep your account active.":`${r} days remaining in your trial`}),!o&&c.jsx("button",{onClick:()=>window.location.href="/subscribe",className:"mt-2 text-sm font-semibold hover:underline",children:"View Plans →"})]})]})})}const D=["#4A9FBF","#FFB81C","#98C26E","#505050"];function Cr(){const{user:e,church:t}=at(),{branches:a,currentBranchId:n}=it(),[r,i]=w.useState(!0),[o,s]=w.useState(0),[l,u]=w.useState(0),[d,p]=w.useState(null),[y,b]=w.useState(null);w.useEffect(()=>{A()},[n]);const A=async()=>{try{if(i(!0),n){const S=await _t(n);if(u(S.length),S.length>0){const L=await St(S[0].id,{limit:1});s(L.pagination.total)}}const v=await jt();b(v);const P=await kt({days:7});p(P)}catch(v){console.error("Failed to load dashboard data:",v),ot.error("Failed to load dashboard data")}finally{i(!1)}},g=a.length,f=y?.totalMessages||0,h=d?.deliveryRate||0,j=y?.totalGroups||0,k=d?.byDay?d.byDay.map(v=>({name:new Date(v.date).toLocaleDateString("en-US",{weekday:"short"}),delivered:v.delivered,failed:v.failed})):[],_=d?.byDay?d.byDay.map((v,P)=>({name:`Day ${P+1}`,sent:v.count,delivered:v.delivered})):[],R=[{name:"Delivered",value:d?.deliveredCount||0},{name:"Failed",value:d?.failedCount||0},{name:"Pending",value:d?.pendingCount||0}];return c.jsx(wt,{children:c.jsxs("div",{className:"px-4 md:px-8 py-8 w-full",children:[c.jsx("div",{className:"mb-8",children:c.jsx(_r,{})}),c.jsxs(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[c.jsxs("h1",{className:"text-4xl font-bold text-foreground mb-2",children:["Welcome back, ",c.jsx("span",{className:"bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:e?.firstName})]}),c.jsxs("p",{className:"text-muted-foreground",children:[t?.name," • ",new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})]})]}),r?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsx(Q.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0},children:c.jsx(Tt,{className:"w-8 h-8 text-primary"})})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx(ie,{icon:Nt,label:"Messages Sent",value:f.toLocaleString(),change:12,changeType:"positive",gradient:"from-primary to-accent",index:0}),c.jsx(ie,{icon:Rt,label:"Total Members",value:o.toLocaleString(),change:8,changeType:"positive",gradient:"from-green-500 to-emerald-500",index:1}),c.jsx(ie,{icon:Dt,label:"Delivery Rate",value:`${h.toFixed(1)}%`,change:-2,changeType:"negative",gradient:"from-purple-500 to-pink-500",index:2}),c.jsx(ie,{icon:It,label:"Active Groups",value:j.toString(),change:5,changeType:"positive",gradient:"from-orange-500 to-red-500",index:3})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs(J,{variant:"gradient",index:0,children:[c.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Messages Overview"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Last 7 days delivery rate"}),k.length>0?c.jsx(he,{width:"100%",height:300,children:c.jsxs(Pt,{data:k,children:[c.jsx(Te,{strokeDasharray:"3 3",stroke:"rgba(120,120,120,0.1)"}),c.jsx(Re,{dataKey:"name",stroke:"rgba(120,120,120,0.5)"}),c.jsx(Ee,{stroke:"rgba(120,120,120,0.5)"}),c.jsx(ve,{contentStyle:{backgroundColor:"rgba(20,20,30,0.95)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px"}}),c.jsx(Ne,{dataKey:"delivered",fill:D[0],radius:[8,8,0,0]}),c.jsx(Ne,{dataKey:"failed",fill:D[3],radius:[8,8,0,0]})]})}):c.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:"No data available"})]})}),c.jsx("div",{children:c.jsxs(J,{variant:"gradient",index:1,children:[c.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Message Status"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Distribution"}),R.some(v=>v.value>0)?c.jsx(he,{width:"100%",height:300,children:c.jsxs(Sr,{children:[c.jsx($,{data:R,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:R.map((v,P)=>c.jsx(Xe,{fill:D[P%D.length]},`cell-${P}`))}),c.jsx(ve,{contentStyle:{backgroundColor:"rgba(20,20,30,0.95)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px"}})]})}):c.jsx("div",{className:"h-80 flex items-center justify-center text-muted-foreground",children:"No data available"})]})})]}),c.jsx("div",{className:"mb-8",children:c.jsxs(J,{variant:"gradient",index:2,children:[c.jsx("h3",{className:"text-lg font-bold text-foreground mb-4",children:"Message Trends"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Sent vs Delivered over time"}),_.length>0?c.jsx(he,{width:"100%",height:350,children:c.jsxs(Ot,{data:_,children:[c.jsx(Te,{strokeDasharray:"3 3",stroke:"rgba(120,120,120,0.1)"}),c.jsx(Re,{dataKey:"name",stroke:"rgba(120,120,120,0.5)"}),c.jsx(Ee,{stroke:"rgba(120,120,120,0.5)"}),c.jsx(ve,{contentStyle:{backgroundColor:"rgba(20,20,30,0.95)",border:"1px solid rgba(59, 130, 246, 0.3)",borderRadius:"8px"}}),c.jsx(Le,{type:"monotone",dataKey:"sent",stroke:D[0],strokeWidth:3,dot:{fill:D[0],r:5}}),c.jsx(Le,{type:"monotone",dataKey:"delivered",stroke:D[1],strokeWidth:3,dot:{fill:D[1],r:5}})]})}):c.jsx("div",{className:"h-96 flex items-center justify-center text-muted-foreground",children:"No data available"})]})}),c.jsx(Q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:c.jsxs(J,{variant:"default",index:3,children:[c.jsx("h3",{className:"text-lg font-bold text-foreground mb-6",children:"Quick Stats"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Branches",value:g},{label:"Groups",value:j},{label:"Members",value:o},{label:"Messages",value:f}].map((v,P)=>c.jsxs(Q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:P*.1},className:"p-4 rounded-xl bg-muted/50 border border-border/40 text-center",children:[c.jsx("p",{className:"text-sm text-muted-foreground mb-2 font-medium",children:v.label}),c.jsx("p",{className:"text-2xl font-bold text-foreground",children:v.value})]},P))})]})})]})]})})}export{Cr as DashboardPage,Cr as default};
//# sourceMappingURL=DashboardPage-CjBgl-ax.js.map
