import{j as e}from"./vendor-ui-DhbhiCKM.js";import{a as t}from"./vendor-react-DC7Nk3dg.js";import{u as a}from"./index.esm-C8Q_B5eL.js";import{c as r,_ as s}from"./index-BQQFjsSa.js";async function n(){return(await r.get("/templates")).data}async function l(e){return(await r.delete(`/templates/${e}`)).data}function d({template:n,onClose:l}){const[d,o]=t.useState(!1),{register:i,handleSubmit:c,formState:{errors:m}}=a({defaultValues:n?{name:n.name,content:n.content,category:n.category}:{name:"",content:"",category:"event"}});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:n?"Edit Template":"Create Template"}),e.jsxs("form",{onSubmit:c(async e=>{try{o(!0),n?(await async function(e,t){return(await r.put(`/templates/${e}`,t)).data}(n.id,e),s.success("Template updated")):(await async function(e){return(await r.post("/templates",e)).data}(e),s.success("Template created")),l()}catch(t){s.error(t.message||"Failed to save template")}finally{o(!1)}}),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Template Name"}),e.jsx("input",{...i("name",{required:"Name is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Sunday Reminder"}),m.name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:m.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),e.jsxs("select",{...i("category",{required:"Category is required"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"service_reminder",children:"Service Reminder"}),e.jsx("option",{value:"event",children:"Event"}),e.jsx("option",{value:"prayer",children:"Prayer"}),e.jsx("option",{value:"thank_you",children:"Thank You"}),e.jsx("option",{value:"welcome",children:"Welcome"}),e.jsx("option",{value:"offering",children:"Offering"})]}),m.category&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:m.category.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content"}),e.jsx("textarea",{...i("content",{required:"Content is required"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:6,placeholder:"Message content..."}),m.content&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:m.content.message})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition",disabled:d,children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition disabled:bg-gray-400",disabled:d,children:d?"Saving...":"Save"})]})]})]})})}export{d as T,l as d,n as g};
