import{j as e,m as a,A as s}from"./vendor-ui-DmDBw7yB.js";import{a as t,u as r,i as l}from"./vendor-react-GajVb7Yi.js";import{u as i,a as n}from"./index-B-EtJOQm.js";import{v as o,G as d,U as c,M as m,H as h,F as x,b,d as p,w as u,x as g,X as j,y as f,Z as y,i as w,z as N}from"./vendor-utils-DZXJUmYg.js";const v=t.memo(function({children:s,className:t="",variant:r="default",hover:l=!0,onClick:i,index:n=0}){return e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*n,duration:.4},whileHover:l?{y:-4,boxShadow:"0 20px 40px rgba(59, 130, 246, 0.15)"}:{},onClick:i,className:`rounded-2xl p-6 transition-all duration-300 border border-border/40 ${{default:"bg-card/60 backdrop-blur-md shadow-lg",gradient:"bg-gradient-to-br from-primary/20 to-cyan-500/20 backdrop-blur-md shadow-lg",transparent:"bg-card/30 backdrop-blur-sm shadow-sm"}[r]} ${t} ${i?"cursor-pointer":""}`,children:s})});function k(){const v=r(),k=l(),{logout:C,church:H}=i(),{currentBranchId:S}=n(),[I,z]=t.useState(!0),[M,B]=t.useState(null),F=[{label:"Dashboard",icon:e.jsx(o,{className:"w-5 h-5"}),path:"/dashboard"},{label:"Branches",icon:e.jsx(d,{className:"w-5 h-5"}),path:"/branches"},{label:"Members",icon:e.jsx(c,{className:"w-5 h-5"}),path:"/members",conditional:!0},{label:"Messaging",icon:e.jsx(m,{className:"w-5 h-5"}),path:"#",subItems:[{label:"Send Message",icon:e.jsx(m,{className:"w-4 h-4"}),path:"/send-message"},{label:"History",icon:e.jsx(h,{className:"w-4 h-4"}),path:"/message-history"},{label:"Templates",icon:e.jsx(x,{className:"w-4 h-4"}),path:"/templates"},{label:"Recurring",icon:e.jsx(b,{className:"w-4 h-4"}),path:"/recurring-messages"}]},{label:"Analytics",icon:e.jsx(p,{className:"w-5 h-5"}),path:"/analytics"},{label:"Billing",icon:e.jsx(u,{className:"w-5 h-5"}),path:"/billing"},{label:"Settings",icon:e.jsx(g,{className:"w-5 h-5"}),path:"/admin/settings"}],$=e=>k.pathname===e||k.pathname.startsWith(e.split("?")[0]),A=F.filter(e=>!e.conditional||e.conditional&&S);return e.jsxs(e.Fragment,{children:[e.jsx(a.button,{whileHover:{scale:1.05},onClick:()=>z(!I),className:"fixed top-4 left-4 z-50 md:hidden p-2 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg text-white",children:I?e.jsx(j,{className:"w-6 h-6"}):e.jsx(f,{className:"w-6 h-6"})}),e.jsx(s,{children:I&&e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>z(!1),className:"fixed inset-0 bg-black/50 z-30 md:hidden"})}),e.jsxs(a.div,{initial:{x:-288},animate:{x:I?0:-288},transition:{duration:.3},className:"fixed left-0 top-0 h-screen w-72 bg-card/80 backdrop-blur-xl border-r border-border/40 z-40 flex flex-col overflow-hidden md:translate-x-0 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border/40",children:[e.jsxs(a.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(y,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-foreground",children:"Koinonia"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:H?.name})]})]}),e.jsx(a.button,{whileHover:{scale:1.1},onClick:()=>z(!1),className:"md:hidden p-1 hover:bg-muted/50 rounded-lg",children:e.jsx(j,{className:"w-5 h-5 text-muted-foreground"})})]}),e.jsx("nav",{className:"flex-1 overflow-y-auto px-3 py-6 space-y-2 custom-scrollbar",children:A.map((t,r)=>{const l=t.subItems&&t.subItems.length>0,i=$(t.path),n=M===t.label;return e.jsx(a.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*r},children:l?e.jsxs(e.Fragment,{children:[e.jsxs(a.button,{whileHover:{backgroundColor:"rgba(59, 130, 246, 0.1)"},onClick:()=>B(n?null:t.label),className:"w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all "+(i?"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-primary border-l-2 border-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/30"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t.icon,e.jsx("span",{className:"font-semibold",children:t.label})]}),e.jsx(a.div,{animate:{rotate:n?90:0},transition:{duration:.2},children:e.jsx(w,{className:"w-4 h-4"})})]}),e.jsx(s,{children:n&&e.jsx(a.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsx("div",{className:"pl-9 space-y-1 mb-2",children:t.subItems?.map(s=>e.jsxs(a.button,{whileHover:{x:4},onClick:()=>{v(s.path),z(!1)},className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-all "+($(s.path)?"bg-primary/20 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/30"),children:[s.icon,e.jsx("span",{children:s.label})]},s.label))})})})]}):e.jsxs(a.button,{whileHover:{x:4},onClick:()=>{v(t.path),z(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all "+(i?"bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-primary border-l-2 border-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/30"),children:[t.icon,e.jsx("span",{className:"font-semibold",children:t.label})]})},t.label)})}),e.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"border-t border-border/40 p-4",children:e.jsxs(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:async()=>{await C(),v("/")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-all font-semibold border border-red-500/20",children:[e.jsx(N,{className:"w-5 h-5"}),e.jsx("span",{children:"Logout"})]})})]}),e.jsx("div",{className:"hidden md:block w-72"})]})}function C({children:a}){return e.jsxs("div",{className:"min-h-screen bg-background flex",children:[e.jsx(k,{}),e.jsx("main",{className:"flex-1 md:ml-0 ml-0 pt-16 md:pt-0",children:a})]})}export{v as S,C as a};
