import{c as n,r as x,j as e,_ as l}from"./index-D79gy8ca.js";import{u as g}from"./index.esm-GPnc2zNd.js";async function h(){return(await n.get("/templates")).data}async function p(t){return(await n.post("/templates",t)).data}async function b(t,a){return(await n.put(`/templates/${t}`,a)).data}async function j(t){return(await n.delete(`/templates/${t}`)).data}function k({template:t,onClose:a}){const[s,d]=x.useState(!1),{register:o,handleSubmit:c,formState:{errors:r}}=g({defaultValues:t?{name:t.name,content:t.content,category:t.category}:{name:"",content:"",category:"event"}}),m=async i=>{try{d(!0),t?(await b(t.id,i),l.success("Template updated")):(await p(i),l.success("Template created")),a()}catch(u){l.error(u.message||"Failed to save template")}finally{d(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t?"Edit Template":"Create Template"}),e.jsxs("form",{onSubmit:c(m),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Template Name"}),e.jsx("input",{...o("name",{required:"Name is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Sunday Reminder"}),r.name&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),e.jsxs("select",{...o("category",{required:"Category is required"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"service_reminder",children:"Service Reminder"}),e.jsx("option",{value:"event",children:"Event"}),e.jsx("option",{value:"prayer",children:"Prayer"}),e.jsx("option",{value:"thank_you",children:"Thank You"}),e.jsx("option",{value:"welcome",children:"Welcome"}),e.jsx("option",{value:"offering",children:"Offering"})]}),r.category&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r.category.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Content"}),e.jsx("textarea",{...o("content",{required:"Content is required"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg dark:bg-slate-700 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:6,placeholder:"Message content..."}),r.content&&e.jsx("p",{className:"text-red-600 text-sm mt-1",children:r.content.message})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-slate-600 rounded-lg text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-slate-700 transition",disabled:s,children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition disabled:bg-gray-400",disabled:s,children:s?"Saving...":"Save"})]})]})]})})}export{k as T,j as d,h as g};
//# sourceMappingURL=TemplateFormModal-M4n4H_My.js.map
