import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useNavigate } from 'react-router-dom';
import useAuthStore from '../stores/authStore';
import useBranchStore from '../stores/branchStore';
import BranchSelector from '../components/BranchSelector';
import TrialBanner from '../components/TrialBanner';
export function DashboardPage() {
    const navigate = useNavigate();
    const { user, church, logout } = useAuthStore();
    const { currentBranchId } = useBranchStore();
    const handleLogout = () => {
        logout();
        navigate('/login');
    };
    const daysUntilTrialEnd = church ? Math.ceil((new Date(church.trialEndsAt).getTime() - new Date().getTime()) / (1000 * 60 * 60 * 24)) : 0;
    const trialStatus = daysUntilTrialEnd > 0 ? 'active' : 'expired';
    const trialColor = daysUntilTrialEnd >= 8 ? 'green' : daysUntilTrialEnd >= 4 ? 'yellow' : 'red';
    return (_jsxs("div", { className: "min-h-screen bg-gray-50", children: [_jsx("header", { className: "bg-white shadow", children: _jsxs("div", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4", children: [_jsxs("div", { className: "flex justify-between items-center mb-4", children: [_jsxs("div", { children: [_jsx("h1", { className: "text-3xl font-bold text-gray-900", children: "Connect YW Dashboard" }), _jsx("p", { className: "text-gray-600", children: church?.name })] }), _jsx("button", { onClick: handleLogout, className: "bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition", children: "Logout" })] }), _jsxs("div", { className: "flex gap-4 items-center", children: [_jsx("button", { onClick: () => navigate('/branches'), className: "px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition", children: "\uD83D\uDCCD Branches" }), currentBranchId && (_jsxs(_Fragment, { children: [_jsx("button", { onClick: () => navigate(`/branches/${currentBranchId}/groups`), className: "px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition", children: "\uD83D\uDC65 Groups" }), _jsx("button", { onClick: () => navigate(`/members?groupId=`), className: "px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition", children: "\uD83D\uDC64 Members" }), _jsx("button", { onClick: () => navigate('/send-message'), className: "px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition", children: "\uD83D\uDCE8 Send Message" }), _jsx("button", { onClick: () => navigate('/message-history'), className: "px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition", children: "\uD83D\uDCDC History" }), _jsx("button", { onClick: () => navigate('/templates'), className: "px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition", children: "\uD83D\uDCCB Templates" }), _jsx("button", { onClick: () => navigate('/recurring-messages'), className: "px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition", children: "\uD83D\uDD04 Recurring" }), _jsx("button", { onClick: () => navigate('/analytics'), className: "px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition", children: "\uD83D\uDCCA Analytics" })] })), _jsx("button", { onClick: () => navigate('/billing'), className: "px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition", children: "\uD83D\uDCB3 Billing" }), _jsx(BranchSelector, {})] })] }) }), _jsxs("main", { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8", children: [_jsx(TrialBanner, {}), _jsxs("div", { className: "bg-white rounded-lg shadow p-8 mb-8", children: [_jsxs("h2", { className: "text-2xl font-bold text-gray-900 mb-4", children: ["Welcome, ", user?.firstName, "!"] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [_jsxs("div", { className: "border-l-4 border-blue-500 pl-4", children: [_jsx("h3", { className: "text-lg font-semibold text-gray-900 mb-2", children: "User Info" }), _jsxs("p", { className: "text-gray-600", children: [_jsx("strong", { children: "Name:" }), " ", user?.firstName, " ", user?.lastName] }), _jsxs("p", { className: "text-gray-600", children: [_jsx("strong", { children: "Email:" }), " ", user?.email] }), _jsxs("p", { className: "text-gray-600", children: [_jsx("strong", { children: "Role:" }), " ", user?.role] })] }), _jsxs("div", { className: "border-l-4 border-blue-500 pl-4", children: [_jsx("h3", { className: "text-lg font-semibold text-gray-900 mb-2", children: "Church Info" }), _jsxs("p", { className: "text-gray-600", children: [_jsx("strong", { children: "Name:" }), " ", church?.name] }), _jsxs("p", { className: "text-gray-600", children: [_jsx("strong", { children: "Email:" }), " ", church?.email] }), _jsxs("p", { className: "text-gray-600", children: [_jsx("strong", { children: "Trial Ends:" }), " ", new Date(church?.trialEndsAt || '').toLocaleDateString()] })] })] })] }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-6", children: [_jsxs("div", { className: "bg-white rounded-lg shadow p-6 text-center", children: [_jsx("div", { className: "text-4xl font-bold text-blue-600 mb-2", children: "0" }), _jsx("p", { className: "text-gray-600", children: "Branches" }), _jsx("p", { className: "text-sm text-gray-500 mt-2", children: "Coming soon" })] }), _jsxs("div", { className: "bg-white rounded-lg shadow p-6 text-center", children: [_jsx("div", { className: "text-4xl font-bold text-green-600 mb-2", children: "0" }), _jsx("p", { className: "text-gray-600", children: "Members" }), _jsx("p", { className: "text-sm text-gray-500 mt-2", children: "Coming soon" })] }), _jsxs("div", { className: "bg-white rounded-lg shadow p-6 text-center", children: [_jsx("div", { className: "text-4xl font-bold text-purple-600 mb-2", children: "0" }), _jsx("p", { className: "text-gray-600", children: "Messages Sent" }), _jsx("p", { className: "text-sm text-gray-500 mt-2", children: "Coming soon" })] })] }), _jsxs("div", { className: "bg-blue-50 border border-blue-200 rounded-lg p-8 mt-8", children: [_jsx("h3", { className: "text-xl font-semibold text-gray-900 mb-4", children: "Coming Soon" }), _jsxs("ul", { className: "list-disc list-inside space-y-2 text-gray-700", children: [_jsx("li", { children: "Multi-branch management" }), _jsx("li", { children: "Member management with CSV import" }), _jsx("li", { children: "SMS messaging to groups and individuals" }), _jsx("li", { children: "Message templates and automation" }), _jsx("li", { children: "Analytics and reporting" }), _jsx("li", { children: "Billing and subscription management" })] })] })] })] }));
}
export default DashboardPage;
//# sourceMappingURL=DashboardPage.js.map