import { useRef } from 'react';
nconst;
AccessibleDialog = ({ n, isOpen, n, title, n, children, n, onClose, n, onConfirm, n, confirmLabel = 'Confirm', n, cancelLabel = 'Cancel', n, role = 'dialog', n, description, n }) => { n; const dialogRef = useRef(null); n; const previousActiveElement = useRef(null); n; n; }; // Handle focus trap and restoration\n  useEffect(() => {\n    if (!isOpen) return;\n\n    // Store the element that had focus before dialog opened\n    previousActiveElement.current = document.activeElement as HTMLElement;\n\n    // Focus the dialog container\n    if (dialogRef.current) {\n      dialogRef.current.focus();\n    }\n\n    // Prevent body scroll when dialog is open\n    const originalOverflow = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n\n    return () => {\n      document.body.style.overflow = originalOverflow;\n\n      // Restore focus to the element that opened the dialog\n      if (previousActiveElement.current) {\n        previousActiveElement.current.focus();\n      }\n    };\n  }, [isOpen]);\n\n  // Handle keyboard events\n  const handleKeyDown = useCallback((e: React.KeyboardEvent<HTMLDivElement>) => {\n    if (e.key === 'Escape') {\n      e.preventDefault();\n      onClose();\n    }\n\n    // Tab trap: keep focus within dialog\n    if (e.key === 'Tab') {\n      const focusableElements = dialogRef.current?.querySelectorAll(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      if (!focusableElements || focusableElements.length === 0) return;\n\n      const firstElement = focusableElements[0] as HTMLElement;\n      const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement;\n      const activeElement = document.activeElement as HTMLElement;\n\n      if (e.shiftKey) {\n        // Shift + Tab\n        if (activeElement === firstElement) {\n          e.preventDefault();\n          lastElement.focus();\n        }\n      } else {\n        // Tab\n        if (activeElement === lastElement) {\n          e.preventDefault();\n          firstElement.focus();\n        }\n      }\n    }\n  }, [onClose]);\n\n  const handleBackdropClick = (e: React.MouseEvent<HTMLDivElement>) => {\n    // Only close if clicking directly on backdrop, not on dialog content\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  const backdropStyles: React.CSSProperties = {\n    position: 'fixed',\n    inset: 0,\n    backgroundColor: 'rgba(0, 0, 0, 0.5)',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: designTokens.zIndex.modal,\n    backdropFilter: 'blur(4px)'\n  };\n\n  const dialogStyles: React.CSSProperties = {\n    position: 'relative',\n    backgroundColor: designTokens.colors.background,\n    borderRadius: designTokens.borderRadius.lg,\n    boxShadow: designTokens.shadow.xl,\n    maxWidth: '512px',\n    width: '90%',\n    maxHeight: '90vh',\n    overflow: 'auto',\n    zIndex: designTokens.zIndex.modal + 1,\n    outline: 'none',\n    borderColor: designTokens.colors.border,\n    borderWidth: '1px',\n    borderStyle: 'solid'\n  };\n\n  const headerStyles: React.CSSProperties = {\n    padding: designTokens.spacing.lg,\n    borderBottom: `1px solid ${designTokens.colors.border}`,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    gap: designTokens.spacing.lg\n  };\n\n  const titleStyles: React.CSSProperties = {\n    ...designTokens.typographyScale.h2,\n    margin: 0,\n    color: designTokens.colors.foreground\n  };\n\n  const closeButtonStyles: React.CSSProperties = {\n    width: designTokens.touchTarget.enhanced,\n    height: designTokens.touchTarget.enhanced,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    border: 'none',\n    cursor: 'pointer',\n    color: designTokens.colors.foreground,\n    fontSize: '24px',\n    borderRadius: designTokens.borderRadius.md,\n    transition: `background-color ${designTokens.transition.fast} ${designTokens.easing.easeOut}`,\n    flexShrink: 0\n  };\n\n  const contentStyles: React.CSSProperties = {\n    padding: designTokens.spacing.lg,\n    color: designTokens.colors.foreground,\n    lineHeight: designTokens.typography.lineHeight.normal,\n    minHeight: '100px'\n  };\n\n  const footerStyles: React.CSSProperties = {\n    padding: designTokens.spacing.lg,\n    borderTop: `1px solid ${designTokens.colors.border}`,\n    display: 'flex',\n    gap: designTokens.spacing.md,\n    justifyContent: 'flex-end',\n    flexWrap: 'wrap'\n  };\n\n  const buttonStyles = (isPrimary = false): React.CSSProperties => ({\n    padding: `${designTokens.spacing.sm} ${designTokens.spacing.lg}`,\n    minHeight: designTokens.touchTarget.enhanced,\n    borderRadius: designTokens.borderRadius.md,\n    border: isPrimary ? 'none' : `1px solid ${designTokens.colors.border}`,\n    backgroundColor: isPrimary\n      ? designTokens.colors.primary\n      : designTokens.colors.card,\n    color: isPrimary ? designTokens.colors.background : designTokens.colors.foreground,\n    fontSize: designTokens.typography.fontSize.base,\n    fontWeight: designTokens.typography.fontWeight.semibold,\n    cursor: 'pointer',\n    transition: `all ${designTokens.transition.fast} ${designTokens.easing.easeOut}`,\n    outline: 'none'\n  });\n\n  return (\n    <div\n      style={backdropStyles}\n      onClick={handleBackdropClick}\n      role=\"presentation\"\n      aria-hidden={!isOpen}\n    >\n      <div\n        ref={dialogRef}\n        style={dialogStyles}\n        role={role}\n        aria-modal=\"true\"\n        aria-labelledby=\"dialog-title\"\n        aria-describedby={description ? 'dialog-description' : undefined}\n        onKeyDown={handleKeyDown}\n        tabIndex={-1}\n      >\n        {/* Header */}\n        <div style={headerStyles}>\n          <h1 id=\"dialog-title\" style={titleStyles}>\n            {title}\n          </h1>\n          <button\n            style={closeButtonStyles}\n            onClick={onClose}\n            aria-label=\"Close dialog\"\n            title=\"Close (Esc)\"\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = designTokens.colors.muted;\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = 'transparent';\n            }}\n          >\n            âœ•\n          </button>\n        </div>\n\n        {/* Content */}\n        <div\n          style={contentStyles}\n          id={description ? 'dialog-description' : undefined}\n        >\n          {children}\n        </div>\n\n        {/* Footer with actions */}\n        <div style={footerStyles}>\n          <button\n            style={buttonStyles(false)}\n            onClick={onClose}\n            onMouseEnter={(e) => {\n              e.currentTarget.style.backgroundColor = designTokens.colors['background-secondary'];\n            }}\n            onMouseLeave={(e) => {\n              e.currentTarget.style.backgroundColor = designTokens.colors.card;\n            }}\n          >\n            {cancelLabel}\n          </button>\n          {onConfirm && (\n            <button\n              style={buttonStyles(true)}\n              onClick={onConfirm}\n              onMouseEnter={(e) => {\n                e.currentTarget.style.boxShadow = designTokens.shadow.lg;\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.boxShadow = 'none';\n              }}\n            >\n              {confirmLabel}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AccessibleDialog;\n
//# sourceMappingURL=AccessibleDialog.js.map