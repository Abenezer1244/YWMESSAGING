Subject: RE: 10DLC Brand Registration Issue - Detailed Error Information Included

Dear Prajwal Shetty,

Thank you for your quick response and for requesting additional information. I've compiled all the debugging details below to help you investigate and resolve this issue.

---

ISSUE SUMMARY
=============
We are attempting to automatically register per-customer 10DLC brands via the Telnyx API. This is part of our church messaging platform where we need to register personal brands for each organization to upgrade their SMS delivery rate from 65% (shared brand) to 99% (personal brand).

Expected behavior: POST /a2p_brands should create a new brand and return a brand_id
Actual behavior: Endpoint returns 404 "Resource not found"

---

ENDPOINTS
=========
POST https://api.telnyx.com/v2/a2p_brands

---

TIMESTAMP WITH TIMEZONE
=======================
All attempts occurred on: November 17, 2025
Time: 2025-11-17T23:05:54.326Z (UTC)

---

REQUEST PAYLOAD
===============
URL: https://api.telnyx.com/v2/a2p_brands
Method: POST

Headers:
--------
Authorization: Bearer KEY019A7519B7F03C53D55D25C7B47C0BE8_Ixsu40kvTLYIfjfwGrG6aO
Content-Type: application/json

Body:
-----
{
  "company_name": "dorowot church",
  "brand_type": "SOLE_PROPRIETOR",
  "vertical": "RELIGION",
  "city": "Seattle",
  "state": "WA",
  "country": "US",
  "email": "church@example.com",
  "display_name": "dorowot church"
}

CURL Command to Replicate:
--------------------------
curl -X POST https://api.telnyx.com/v2/a2p_brands \
  -H "Authorization: Bearer KEY019A7519B7F03C53D55D25C7B47C0BE8_Ixsu40kvTLYIfjfwGrG6aO" \
  -H "Content-Type: application/json" \
  -d '{
    "company_name": "Test Church",
    "brand_type": "SOLE_PROPRIETOR",
    "vertical": "RELIGION",
    "city": "Seattle",
    "state": "WA",
    "country": "US",
    "email": "test@example.com",
    "display_name": "Test Church"
  }'

---

RESPONSE PAYLOAD
================
HTTP Status: 404 Not Found

Response Body:
--------------
{
  "errors": [
    {
      "code": "10005",
      "title": "Resource not found",
      "detail": "The requested resource or URL could not be found.",
      "meta": {
        "url": "https://developers.telnyx.com/docs/overview/errors/10005"
      }
    }
  ]
}

---

CAN YOU REPLICATE THE ISSUE?
============================
Yes - The issue is easily replicable using the curl command above. Every attempt to POST to /a2p_brands returns 404 "Resource not found".

We have tested:
- Different authentication methods (Bearer token, Basic Auth, direct API key)
- Different request payload variations
- Multiple timestamps (all within Nov 17, 2025)

Result: All attempts return 404 on /a2p_brands endpoint

---

ADDITIONAL CONTEXT
==================
Our API Key: KEY019A7519B7F03C53D55D25C7B47C0BE8_Ixsu40kvTLYIfjfwGrG6aO

We tested other Telnyx API endpoints and encountered authentication issues:
- GET /messaging_profiles → 401 "No key found matching the ID"
- GET /phone_numbers → 401 "No key found matching the ID"
- GET /a2p_brands → 404 "Resource not found"

However, SMS/MMS sending works correctly through your API, which suggests our account and API key have some level of access, but may be missing specific A2P brand registration permissions.

---

QUESTIONS FOR TELNYX TEAM
==========================

1. Is /a2p_brands the correct endpoint path for 10DLC/A2P brand registration in API v2?
   - If not, what is the correct endpoint?

2. Are there any special headers, scopes, or permissions required beyond standard Bearer token authentication?

3. Can you confirm that our API key (KEY019A7519B7F03C53D55D25C7B47C0BE8_...) has A2P brand registration permissions enabled?

4. Can you provide a working curl example for creating an A2P brand in your API v2 documentation?

5. Is there any additional verification, approval process, or account configuration required before we can use the A2P brand registration endpoint?

---

USE CASE & IMPACT
=================
Platform: Koinonia SMS (Church Messaging Platform)
URL: https://koinoniasms.com
Environment: Production on Render

Workflow:
1. Church purchases a phone number through our platform
2. We auto-register a personal 10DLC brand for that church via /a2p_brands
3. Telnyx approves the brand (typically 1-7 business days)
4. We auto-upgrade the church's SMS delivery rate from 65% → 99%

Current blocker: Step 2 fails with 404 error, preventing all churches from accessing the 99% delivery rate tier.

---

NEXT STEPS
==========
Please let us know:
1. If /a2p_brands is the correct endpoint
2. If our account/API key needs additional configuration
3. Any working examples or documentation you can provide

We are ready to implement immediately once we have clarity on the correct endpoint or required configuration.

---

Thank you for your assistance. Please let me know if you need any additional information.

Best regards,
Abenezer Girma
Koinonia SMS Development Team
support@koinoniasms.com

Technical Details:
- Deployment: https://connect-yw-backend.onrender.com
- Implementation: backend/src/jobs/10dlc-registration.ts
- Support ticket: Referenced in this thread
