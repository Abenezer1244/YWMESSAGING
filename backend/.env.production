# Production Environment Configuration
# SECURITY: This is a template. Use Render's environment variables dashboard
# NEVER commit actual secrets to version control

# Database (Render PostgreSQL)
DATABASE_URL=postgresql://user:password@host:5432/connect_yw_production

# Server
PORT=3000
NODE_ENV=production
FRONTEND_URL=https://koinoniasms.com

# JWT Secrets (generate with: openssl rand -hex 32)
JWT_ACCESS_SECRET=your_generated_secret_here
JWT_REFRESH_SECRET=your_generated_secret_here

# Telnyx (SMS service)
TELNYX_API_KEY=your_telnyx_api_key

# Stripe (Payment processing)
STRIPE_SECRET_KEY=sk_live_your_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_key
STRIPE_WEBHOOK_SECRET=whsec_your_secret

# SendGrid (Email service)
SENDGRID_API_KEY=SG.your_api_key

# PostHog (Analytics)
POSTHOG_API_KEY=your_posthog_key

# OpenAI (for chatbot)
# IMPORTANT: Set this in Render environment variables, do not commit to version control
OPENAI_API_KEY=your_openai_api_key_here

# Trial Configuration
TRIAL_DAYS=14
SUPPORT_EMAIL=support@koinoniasms.com

# Redis (CRITICAL for Phase 1 - enables message queue processing)
REDIS_URL=your_render_redis_url_here

# Message Queue Configuration (PHASE 1 - CRITICAL)
# Enable asynchronous message processing via Bull job queues
# This DRAMATICALLY improves throughput: 60 msg/min â†’ 500 msg/min (8x improvement)
# Prevents service failure at 1,500+ churches
ENABLE_QUEUES=true

# Encryption Key for PII (generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
ENCRYPTION_KEY=your_32_byte_hex_key_here

# Datadog APM Monitoring (Phase 6)
DATADOG_ENABLED=true
APP_VERSION=1.0.0

# AWS S3 (for MMS media storage at full quality)
AWS_REGION=us-east-2
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_S3_BUCKET=koinonia-media-conversations
AWS_S3_FOLDER=conversations

# Media Settings
MAX_MEDIA_SIZE_BYTES=524288000  # 500MB
MEDIA_RETENTION_DAYS=365         # Keep media for 1 year

# Backend URL (for Telnyx webhooks)
BACKEND_URL=https://connect-yw-backend.onrender.com

# Phone Hash Key (for secure phone number lookups)
PHONE_HASH_KEY=your_phone_hash_key_here
